{"file_contents":{"components/ScreenKeyboardAwareScrollView.tsx":{"content":"import { Platform, StyleSheet } from \"react-native\";\nimport {\n  KeyboardAwareScrollView,\n  KeyboardAwareScrollViewProps,\n} from \"react-native-keyboard-controller\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useScreenInsets } from \"@/hooks/useScreenInsets\";\nimport { Spacing } from \"@/constants/theme\";\nimport { ScreenScrollView } from \"./ScreenScrollView\";\n\nexport function ScreenKeyboardAwareScrollView({\n  children,\n  contentContainerStyle,\n  style,\n  keyboardShouldPersistTaps = \"handled\",\n  ...scrollViewProps\n}: KeyboardAwareScrollViewProps) {\n  const { theme } = useTheme();\n  const { paddingTop, paddingBottom, scrollInsetBottom } = useScreenInsets();\n\n  /**\n   * KeyboardAwareScrollView isn't compatible with web (it relies on native APIs), so the code falls back to ScreenScrollView on web to avoid runtime errors.\n   */\n  if (Platform.OS === \"web\") {\n    return (\n      <ScreenScrollView\n        style={style}\n        contentContainerStyle={contentContainerStyle}\n        keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n        {...scrollViewProps}\n      >\n        {children}\n      </ScreenScrollView>\n    );\n  }\n\n  return (\n    <KeyboardAwareScrollView\n      style={[\n        styles.container,\n        { backgroundColor: theme.backgroundRoot },\n        style,\n      ]}\n      contentContainerStyle={[\n        {\n          paddingTop,\n          paddingBottom,\n        },\n        styles.contentContainer,\n        contentContainerStyle,\n      ]}\n      scrollIndicatorInsets={{ bottom: scrollInsetBottom }}\n      keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n      {...scrollViewProps}\n    >\n      {children}\n    </KeyboardAwareScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingHorizontal: Spacing.xl,\n  },\n});\n","size_bytes":1813},"eslint.config.js":{"content":"// https://docs.expo.dev/guides/using-eslint/\nconst { defineConfig } = require(\"eslint/config\");\nconst expoConfig = require(\"eslint-config-expo/flat\");\nconst eslintPluginPrettierRecommended = require(\"eslint-plugin-prettier/recommended\");\n\nmodule.exports = defineConfig([\n  expoConfig,\n  eslintPluginPrettierRecommended,\n  {\n    ignores: [\"dist/*\"],\n  },\n]);\n","size_bytes":359},"screens/CourseDetailScreen.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, TextInput, Alert, Pressable } from 'react-native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ScreenKeyboardAwareScrollView } from '@/components/ScreenKeyboardAwareScrollView';\nimport { Button } from '@/components/Button';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { getSemesters, updateCourse, deleteCourse } from '@/services/storageService';\nimport { TargetGrade, CAScores, Course } from '@/types';\nimport { calculateRequiredExamScore, calculateCATotal } from '@/utils/calculations';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function CourseDetailScreen({ route, navigation }: any) {\n  const { semesterId, courseId } = route.params;\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const [course, setCourse] = useState<Course | null>(null);\n  const [semesterType, setSemesterType] = useState<'past' | 'current'>('current');\n  const [caScores, setCAScores] = useState<CAScores>({ midterm: 0, assignment: 0, quiz: 0, attendance: 0 });\n  const [targetGrade, setTargetGrade] = useState<TargetGrade>('A');\n  const [difficulty, setDifficulty] = useState<1 | 2 | 3 | 4 | 5>(3);\n  const [finalScore, setFinalScore] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadCourse();\n  }, []);\n\n  const loadCourse = async () => {\n    if (!user) return;\n    const semesters = await getSemesters(user.uid);\n    const semester = semesters.find(s => s.id === semesterId);\n    if (semester) {\n      setSemesterType(semester.type);\n      const foundCourse = semester.courses.find(c => c.id === courseId);\n      if (foundCourse) {\n        setCourse(foundCourse);\n        setCAScores(foundCourse.caScores);\n        setTargetGrade(foundCourse.targetGrade);\n        setDifficulty(foundCourse.difficulty);\n        setFinalScore(foundCourse.finalScore?.toString() || '');\n        navigation.setOptions({ title: foundCourse.name });\n      }\n    }\n  };\n\n  const handleSave = async () => {\n    if (!user || !course) return;\n\n    setLoading(true);\n    try {\n      const updates: Partial<Course> = {\n        caScores,\n        targetGrade,\n        difficulty,\n      };\n\n      if (finalScore) {\n        const score = parseFloat(finalScore);\n        if (!isNaN(score) && score >= 0 && score <= 100) {\n          updates.finalScore = score;\n        }\n      }\n\n      await updateCourse(user.uid, semesterId, courseId, updates);\n      navigation.goBack();\n    } catch (error: any) {\n      Alert.alert('Error', error.message || 'Failed to update course');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = () => {\n    Alert.alert(\n      'Delete Course',\n      'Are you sure you want to delete this course?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Delete',\n          style: 'destructive',\n          onPress: async () => {\n            if (!user) return;\n            try {\n              await deleteCourse(user.uid, semesterId, courseId);\n              navigation.goBack();\n            } catch (error) {\n              Alert.alert('Error', 'Failed to delete course');\n            }\n          },\n        },\n      ]\n    );\n  };\n\n  if (!course) return null;\n\n  const caTotal = calculateCATotal(caScores);\n  const examTargets = (['A', 'B', 'C'] as TargetGrade[]).map(grade => calculateRequiredExamScore(caTotal, grade));\n\n  return (\n    <ScreenKeyboardAwareScrollView style={{ backgroundColor: theme.backgroundRoot }}>\n      <View style={styles.container}>\n        <View style={[styles.infoCard, { backgroundColor: theme.backgroundDefault }]}>\n          <View style={styles.infoRow}>\n            <ThemedText style={[styles.infoLabel, { color: theme.textSecondary }]}>Name</ThemedText>\n            <ThemedText style={[styles.infoValue, { color: theme.text }]}>{course.name}</ThemedText>\n          </View>\n          <View style={styles.infoRow}>\n            <ThemedText style={[styles.infoLabel, { color: theme.textSecondary }]}>Code</ThemedText>\n            <ThemedText style={[styles.infoValue, { color: theme.text }]}>{course.code}</ThemedText>\n          </View>\n          <View style={styles.infoRow}>\n            <ThemedText style={[styles.infoLabel, { color: theme.textSecondary }]}>Units</ThemedText>\n            <ThemedText style={[styles.infoValue, { color: theme.text }]}>{course.unitHours}</ThemedText>\n          </View>\n        </View>\n\n        {semesterType === 'current' ? (\n          <>\n            <View style={styles.form}>\n              <View style={styles.field}>\n                <ThemedText style={[styles.label, { color: theme.text }]}>CA Scores (Total: {caTotal}/60)</ThemedText>\n                <View style={styles.caGrid}>\n                  <CAInput label=\"Midterm (20)\" value={caScores.midterm} max={20} onChange={(val: number) => setCAScores({ ...caScores, midterm: val })} theme={theme} />\n                  <CAInput label=\"Assignment (20)\" value={caScores.assignment} max={20} onChange={(val: number) => setCAScores({ ...caScores, assignment: val })} theme={theme} />\n                  <CAInput label=\"Quiz (10)\" value={caScores.quiz} max={10} onChange={(val: number) => setCAScores({ ...caScores, quiz: val })} theme={theme} />\n                  <CAInput label=\"Attendance (10)\" value={caScores.attendance} max={10} onChange={(val: number) => setCAScores({ ...caScores, attendance: val })} theme={theme} />\n                </View>\n              </View>\n\n              <View style={styles.field}>\n                <ThemedText style={[styles.label, { color: theme.text }]}>Target Grade</ThemedText>\n                <View style={styles.gradeSelector}>\n                  {(['A', 'B', 'C'] as TargetGrade[]).map(grade => (\n                    <Pressable\n                      key={grade}\n                      style={[\n                        styles.gradeChip,\n                        { borderColor: theme.border },\n                        targetGrade === grade && { backgroundColor: theme.primary, borderColor: theme.primary }\n                      ]}\n                      onPress={() => setTargetGrade(grade)}\n                    >\n                      <ThemedText style={[styles.gradeText, { color: targetGrade === grade ? '#FFFFFF' : theme.text }]}>\n                        {grade}\n                      </ThemedText>\n                    </Pressable>\n                  ))}\n                </View>\n              </View>\n\n              <View style={styles.field}>\n                <ThemedText style={[styles.label, { color: theme.text }]}>Difficulty</ThemedText>\n                <View style={styles.difficultySelector}>\n                  {[1, 2, 3, 4, 5].map(level => (\n                    <Pressable\n                      key={level}\n                      onPress={() => setDifficulty(level as any)}\n                    >\n                      <Feather\n                        name=\"star\"\n                        size={32}\n                        color={level <= difficulty ? theme.primary : theme.textSecondary}\n                        fill={level <= difficulty ? theme.primary : 'transparent'}\n                      />\n                    </Pressable>\n                  ))}\n                </View>\n              </View>\n            </View>\n\n            <View style={styles.field}>\n              <ThemedText style={[styles.label, { color: theme.text }]}>Exam Target Table</ThemedText>\n              <View style={[styles.table, { backgroundColor: theme.backgroundDefault, borderColor: theme.border }]}>\n                <View style={[styles.tableHeader, { backgroundColor: theme.backgroundSecondary }]}>\n                  <ThemedText style={[styles.tableHeaderText, { color: theme.text }]}>Target Grade</ThemedText>\n                  <ThemedText style={[styles.tableHeaderText, { color: theme.text }]}>Required Exam</ThemedText>\n                  <ThemedText style={[styles.tableHeaderText, { color: theme.text }]}>Achievable</ThemedText>\n                </View>\n                {examTargets.map(target => (\n                  <View key={target.targetGrade} style={[styles.tableRow, { borderTopColor: theme.border }]}>\n                    <ThemedText style={[styles.tableCell, { color: theme.text }]}>{target.targetGrade}</ThemedText>\n                    <ThemedText style={[styles.tableCell, { color: theme.text }]}>{target.requiredExam.toFixed(1)}/40</ThemedText>\n                    <ThemedText style={[styles.tableCell, { color: target.achievable ? theme.success : theme.error }]}>\n                      {target.achievable ? 'Yes' : 'No'}\n                    </ThemedText>\n                  </View>\n                ))}\n              </View>\n            </View>\n\n            <View style={styles.field}>\n              <ThemedText style={[styles.label, { color: theme.text }]}>Final Score (Optional)</ThemedText>\n              <ThemedText style={[styles.hint, { color: theme.textSecondary }]}>\n                Enter your final score when you receive your result\n              </ThemedText>\n              <TextInput\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n                placeholder=\"e.g., 85\"\n                placeholderTextColor={theme.textSecondary}\n                value={finalScore}\n                onChangeText={setFinalScore}\n                keyboardType=\"decimal-pad\"\n              />\n            </View>\n          </>\n        ) : (\n          <View style={[styles.finalScoreCard, { backgroundColor: theme.backgroundDefault }]}>\n            <ThemedText style={[styles.label, { color: theme.text }]}>Final Score</ThemedText>\n            <ThemedText style={[styles.finalScoreValue, { color: theme.primary }]}>\n              {course.finalScore?.toFixed(1)}\n            </ThemedText>\n          </View>\n        )}\n\n        <View style={styles.actions}>\n          {semesterType === 'current' ? (\n            <Button\n              label={loading ? 'Saving...' : 'Save Changes'}\n              onPress={handleSave}\n              disabled={loading}\n            />\n          ) : null}\n          <Button\n            label=\"Delete Course\"\n            onPress={handleDelete}\n            variant=\"destructive\"\n          />\n        </View>\n      </View>\n    </ScreenKeyboardAwareScrollView>\n  );\n}\n\nfunction CAInput({ label, value, max, onChange, theme }: any) {\n  const [text, setText] = useState(value.toString());\n\n  const handleChange = (val: string) => {\n    setText(val);\n    const num = parseFloat(val);\n    if (!isNaN(num) && num >= 0 && num <= max) {\n      onChange(num);\n    } else if (val === '') {\n      onChange(0);\n    }\n  };\n\n  return (\n    <View style={styles.caInputContainer}>\n      <ThemedText style={[styles.caLabel, { color: theme.textSecondary }]}>{label}</ThemedText>\n      <TextInput\n        style={[styles.caInput, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n        value={text}\n        onChangeText={handleChange}\n        keyboardType=\"decimal-pad\"\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.xl,\n    gap: Spacing['2xl'],\n  },\n  infoCard: {\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.sm,\n    gap: Spacing.md,\n  },\n  infoRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  infoLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  infoValue: {\n    fontSize: 16,\n  },\n  form: {\n    gap: Spacing['2xl'],\n  },\n  field: {\n    gap: Spacing.sm,\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  hint: {\n    fontSize: 14,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  caGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: Spacing.md,\n  },\n  caInputContainer: {\n    width: '48%',\n    gap: Spacing.xs,\n  },\n  caLabel: {\n    fontSize: 14,\n  },\n  caInput: {\n    height: 44,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.md,\n    fontSize: 16,\n  },\n  gradeSelector: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n  },\n  gradeChip: {\n    flex: 1,\n    height: 48,\n    borderWidth: 2,\n    borderRadius: BorderRadius.xs,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  gradeText: {\n    fontSize: 18,\n    fontWeight: '700',\n  },\n  difficultySelector: {\n    flexDirection: 'row',\n    gap: Spacing.sm,\n  },\n  table: {\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    overflow: 'hidden',\n  },\n  tableHeader: {\n    flexDirection: 'row',\n    padding: Spacing.md,\n  },\n  tableHeaderText: {\n    flex: 1,\n    fontWeight: '700',\n    fontSize: 14,\n    textAlign: 'center',\n  },\n  tableRow: {\n    flexDirection: 'row',\n    padding: Spacing.md,\n    borderTopWidth: 1,\n  },\n  tableCell: {\n    flex: 1,\n    fontSize: 16,\n    textAlign: 'center',\n  },\n  finalScoreCard: {\n    padding: Spacing['2xl'],\n    borderRadius: BorderRadius.sm,\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  finalScoreValue: {\n    fontSize: 48,\n    fontWeight: '700',\n  },\n  actions: {\n    gap: Spacing.md,\n  },\n});\n","size_bytes":13271},"components/Spacer.tsx":{"content":"import { View } from \"react-native\";\n\ntype Props = {\n  width?: number;\n  height?: number;\n};\n\nexport default function Spacer(props: Props) {\n  const width: number = props.width ?? 1;\n  const height: number = props.height ?? 1;\n\n  return (\n    <View\n      style={{\n        width,\n        height,\n      }}\n    />\n  );\n}\n","size_bytes":318},"components/ThemedText.tsx":{"content":"import { Text, type TextProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Typography } from \"@/constants/theme\";\n\nexport type ThemedTextProps = TextProps & {\n  lightColor?: string;\n  darkColor?: string;\n  type?: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"body\" | \"small\" | \"link\";\n};\n\nexport function ThemedText({\n  style,\n  lightColor,\n  darkColor,\n  type = \"body\",\n  ...rest\n}: ThemedTextProps) {\n  const { theme, isDark } = useTheme();\n\n  const getColor = () => {\n    if (isDark && darkColor) {\n      return darkColor;\n    }\n\n    if (!isDark && lightColor) {\n      return lightColor;\n    }\n\n    if (type === \"link\") {\n      return theme.link;\n    }\n\n    return theme.text;\n  };\n\n  const getTypeStyle = () => {\n    switch (type) {\n      case \"h1\":\n        return Typography.h1;\n      case \"h2\":\n        return Typography.h2;\n      case \"h3\":\n        return Typography.h3;\n      case \"h4\":\n        return Typography.h4;\n      case \"body\":\n        return Typography.body;\n      case \"small\":\n        return Typography.small;\n      case \"link\":\n        return Typography.link;\n      default:\n        return Typography.body;\n    }\n  };\n\n  return (\n    <Text style={[{ color: getColor() }, getTypeStyle(), style]} {...rest} />\n  );\n}\n","size_bytes":1251},"utils/calculations.ts":{"content":"import { Grade, TargetGrade, CAScores, Course, Semester, ExamTarget } from '@/types';\n\nexport const GRADE_POINTS: Record<Grade, number> = {\n  A: 5.0,\n  B: 4.0,\n  C: 3.0,\n  D: 2.0,\n  E: 1.0,\n  F: 0.0,\n};\n\nexport const GRADE_RANGES: Record<Grade, { min: number; max: number }> = {\n  A: { min: 80, max: 100 },\n  B: { min: 60, max: 79 },\n  C: { min: 50, max: 59 },\n  D: { min: 40, max: 49 },\n  E: { min: 30, max: 39 },\n  F: { min: 0, max: 29 },\n};\n\nexport function scoreToGrade(score: number): Grade {\n  if (score >= 80) return 'A';\n  if (score >= 60) return 'B';\n  if (score >= 50) return 'C';\n  if (score >= 40) return 'D';\n  if (score >= 30) return 'E';\n  return 'F';\n}\n\nexport function calculateCATotal(caScores: CAScores): number {\n  return caScores.midterm + caScores.assignment + caScores.quiz + caScores.attendance;\n}\n\nexport function calculateRequiredExamScore(caTotal: number, targetGrade: TargetGrade): ExamTarget {\n  const minScore = GRADE_RANGES[targetGrade].min;\n  const requiredExam = minScore - caTotal;\n  const achievable = requiredExam >= 0 && requiredExam <= 40;\n\n  return {\n    caTotal,\n    targetGrade,\n    requiredExam: Math.max(0, Math.min(40, requiredExam)),\n    achievable,\n  };\n}\n\nexport function calculatePredictedScore(course: Course): number {\n  const caTotal = calculateCATotal(course.caScores);\n  const examTarget = calculateRequiredExamScore(caTotal, course.targetGrade);\n  return caTotal + examTarget.requiredExam;\n}\n\nexport function calculateSemesterGPA(courses: Course[]): number {\n  if (courses.length === 0) return 0;\n\n  let totalPoints = 0;\n  let totalUnits = 0;\n\n  courses.forEach(course => {\n    const grade = course.finalScore !== undefined \n      ? scoreToGrade(course.finalScore) \n      : scoreToGrade(calculatePredictedScore(course));\n    \n    totalPoints += GRADE_POINTS[grade] * course.unitHours;\n    totalUnits += course.unitHours;\n  });\n\n  return totalUnits > 0 ? parseFloat((totalPoints / totalUnits).toFixed(2)) : 0;\n}\n\nexport function calculateCGPA(semesters: Semester[]): number {\n  const pastSemesters = semesters.filter(s => s.type === 'past');\n  if (pastSemesters.length === 0) return 0;\n\n  let totalWeightedGPA = 0;\n  let totalUnits = 0;\n\n  pastSemesters.forEach(semester => {\n    const semesterUnits = semester.courses.reduce((sum, course) => sum + course.unitHours, 0);\n    totalWeightedGPA += semester.gpa * semesterUnits;\n    totalUnits += semesterUnits;\n  });\n\n  return totalUnits > 0 ? parseFloat((totalWeightedGPA / totalUnits).toFixed(2)) : 0;\n}\n\nexport function calculatePredictedCGPA(semesters: Semester[]): number {\n  const pastSemesters = semesters.filter(s => s.type === 'past');\n  const currentSemester = semesters.find(s => s.type === 'current');\n\n  if (pastSemesters.length === 0 && !currentSemester) return 0;\n\n  let totalWeightedGPA = 0;\n  let totalUnits = 0;\n\n  pastSemesters.forEach(semester => {\n    const semesterUnits = semester.courses.reduce((sum, course) => sum + course.unitHours, 0);\n    totalWeightedGPA += semester.gpa * semesterUnits;\n    totalUnits += semesterUnits;\n  });\n\n  if (currentSemester && currentSemester.courses.length > 0) {\n    const predictedGPA = calculateSemesterGPA(currentSemester.courses);\n    const currentUnits = currentSemester.courses.reduce((sum, course) => sum + course.unitHours, 0);\n    totalWeightedGPA += predictedGPA * currentUnits;\n    totalUnits += currentUnits;\n  }\n\n  return totalUnits > 0 ? parseFloat((totalWeightedGPA / totalUnits).toFixed(2)) : 0;\n}\n\nexport function getGradeColor(grade: Grade, colors: any): string {\n  if (grade === 'A') return colors.success;\n  if (grade === 'B') return colors.primary;\n  if (grade === 'C') return colors.warning;\n  return colors.error;\n}\n\nexport function getGPAColor(gpa: number, colors: any): string {\n  if (gpa >= 4.5) return colors.success;\n  if (gpa >= 4.0) return colors.primary;\n  if (gpa >= 3.0) return colors.warning;\n  return colors.error;\n}\n","size_bytes":3910},"babel.config.js":{"content":"module.exports = function (api) {\n  api.cache(true);\n  return {\n    presets: [\"babel-preset-expo\"],\n    plugins: [\n      [\n        \"module-resolver\",\n        {\n          root: [\"./\"],\n          alias: {\n            \"@\": \"./\",\n          },\n          extensions: [\".ios.js\", \".android.js\", \".js\", \".ts\", \".tsx\", \".json\"],\n        },\n      ],\n      \"react-native-reanimated/plugin\",\n    ],\n  };\n};\n","size_bytes":395},"components/AchievementPopup.tsx":{"content":"import React, { useEffect } from 'react';\nimport { View, StyleSheet, Modal, Pressable } from 'react-native';\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withSpring,\n  withDelay,\n  withSequence,\n} from 'react-native-reanimated';\nimport { ThemedText } from './ThemedText';\nimport { useTheme } from '@/hooks/useTheme';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { Feather } from '@expo/vector-icons';\nimport { useAchievements, Achievement } from '@/contexts/AchievementContext';\n\nexport function AchievementPopup() {\n  const { theme } = useTheme();\n  const { currentAchievement, clearCurrentAchievement } = useAchievements();\n  \n  const scale = useSharedValue(0);\n  const opacity = useSharedValue(0);\n\n  useEffect(() => {\n    if (currentAchievement) {\n      scale.value = withSpring(1, { damping: 15 });\n      opacity.value = withSpring(1);\n    } else {\n      scale.value = 0;\n      opacity.value = 0;\n    }\n  }, [currentAchievement]);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n    opacity: opacity.value,\n  }));\n\n  if (!currentAchievement) return null;\n\n  return (\n    <Modal transparent visible={!!currentAchievement} animationType=\"none\">\n      <Pressable style={styles.overlay} onPress={clearCurrentAchievement}>\n        <Animated.View\n          style={[\n            styles.container,\n            { backgroundColor: theme.backgroundDefault },\n            animatedStyle,\n          ]}\n        >\n          <View style={[styles.iconContainer, { backgroundColor: theme.primary }]}>\n            <Feather name={currentAchievement.icon as any} size={32} color=\"#FFFFFF\" />\n          </View>\n          \n          <View style={styles.content}>\n            <ThemedText style={[styles.badge, { color: theme.primary }]}>\n              ACHIEVEMENT UNLOCKED\n            </ThemedText>\n            <ThemedText type=\"subtitle\" style={[styles.title, { color: theme.text }]}>\n              {currentAchievement.title}\n            </ThemedText>\n            <ThemedText style={[styles.description, { color: theme.textSecondary }]}>\n              {currentAchievement.description}\n            </ThemedText>\n          </View>\n        </Animated.View>\n      </Pressable>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n  },\n  container: {\n    width: '85%',\n    maxWidth: 400,\n    padding: Spacing['2xl'],\n    borderRadius: BorderRadius.md,\n    alignItems: 'center',\n    gap: Spacing.lg,\n  },\n  iconContainer: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  content: {\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  badge: {\n    fontSize: 12,\n    fontWeight: '700',\n    letterSpacing: 1,\n  },\n  title: {\n    textAlign: 'center',\n  },\n  description: {\n    textAlign: 'center',\n    fontSize: 14,\n    lineHeight: 20,\n  },\n});\n","size_bytes":2994},"hooks/useTheme.ts":{"content":"import { Colors } from \"@/constants/theme\";\nimport { useThemeContext } from \"@/contexts/ThemeContext\";\n\nexport function useTheme() {\n  const { theme: themeName } = useThemeContext();\n  const theme = Colors[themeName];\n  const isDark = themeName === 'defaultDark' || themeName === 'dark';\n\n  return {\n    theme,\n    isDark,\n    themeName,\n  };\n}\n","size_bytes":345},"screens/AddCourseScreen.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, TextInput, Alert, Pressable } from 'react-native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ScreenKeyboardAwareScrollView } from '@/components/ScreenKeyboardAwareScrollView';\nimport { Button } from '@/components/Button';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { addCourse, getSemesters } from '@/services/storageService';\nimport { TargetGrade, CAScores } from '@/types';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function AddCourseScreen({ route, navigation }: any) {\n  const { semesterId } = route.params;\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const [semesterType, setSemesterType] = useState<'past' | 'current'>('current');\n  const [name, setName] = useState('');\n  const [code, setCode] = useState('');\n  const [unitHours, setUnitHours] = useState('');\n  const [caScores, setCAScores] = useState<CAScores>({ midterm: 0, assignment: 0, quiz: 0, attendance: 0 });\n  const [targetGrade, setTargetGrade] = useState<TargetGrade>('A');\n  const [difficulty, setDifficulty] = useState<1 | 2 | 3 | 4 | 5>(3);\n  const [finalScore, setFinalScore] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadSemesterType();\n  }, []);\n\n  const loadSemesterType = async () => {\n    if (!user) return;\n    const semesters = await getSemesters(user.uid);\n    const semester = semesters.find(s => s.id === semesterId);\n    if (semester) {\n      setSemesterType(semester.type);\n    }\n  };\n\n  const handleAdd = async () => {\n    if (!name.trim() || !code.trim() || !unitHours) {\n      Alert.alert('Error', 'Please fill in all required fields');\n      return;\n    }\n\n    const units = parseInt(unitHours);\n    if (isNaN(units) || units <= 0) {\n      Alert.alert('Error', 'Please enter a valid unit hour');\n      return;\n    }\n\n    if (semesterType === 'past' && (!finalScore || isNaN(parseFloat(finalScore)))) {\n      Alert.alert('Error', 'Please enter a valid final score for past semester');\n      return;\n    }\n\n    if (!user) return;\n\n    setLoading(true);\n    try {\n      const courseData: any = {\n        name: name.trim(),\n        code: code.trim(),\n        unitHours: units,\n        caScores: semesterType === 'current' ? caScores : { midterm: 0, assignment: 0, quiz: 0, attendance: 0 },\n        targetGrade: semesterType === 'current' ? targetGrade : 'A',\n        difficulty: semesterType === 'current' ? difficulty : 3,\n      };\n\n      if (semesterType === 'past') {\n        courseData.finalScore = parseFloat(finalScore);\n      }\n\n      await addCourse(user.uid, semesterId, courseData);\n      navigation.goBack();\n    } catch (error: any) {\n      Alert.alert('Error', error.message || 'Failed to add course');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <ScreenKeyboardAwareScrollView style={{ backgroundColor: theme.backgroundRoot }}>\n      <View style={styles.container}>\n        <View style={styles.form}>\n          <View style={styles.field}>\n            <ThemedText style={[styles.label, { color: theme.text }]}>Course Name *</ThemedText>\n            <TextInput\n              style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n              placeholder=\"e.g., Introduction to Programming\"\n              placeholderTextColor={theme.textSecondary}\n              value={name}\n              onChangeText={setName}\n            />\n          </View>\n\n          <View style={styles.field}>\n            <ThemedText style={[styles.label, { color: theme.text }]}>Course Code *</ThemedText>\n            <TextInput\n              style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n              placeholder=\"e.g., CSC 201\"\n              placeholderTextColor={theme.textSecondary}\n              value={code}\n              onChangeText={setCode}\n            />\n          </View>\n\n          <View style={styles.field}>\n            <ThemedText style={[styles.label, { color: theme.text }]}>Unit Hours *</ThemedText>\n            <TextInput\n              style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n              placeholder=\"e.g., 3\"\n              placeholderTextColor={theme.textSecondary}\n              value={unitHours}\n              onChangeText={setUnitHours}\n              keyboardType=\"number-pad\"\n            />\n          </View>\n\n          {semesterType === 'past' ? (\n            <View style={styles.field}>\n              <ThemedText style={[styles.label, { color: theme.text }]}>Final Score (out of 100) *</ThemedText>\n              <TextInput\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n                placeholder=\"e.g., 85\"\n                placeholderTextColor={theme.textSecondary}\n                value={finalScore}\n                onChangeText={setFinalScore}\n                keyboardType=\"decimal-pad\"\n              />\n            </View>\n          ) : (\n            <>\n              <View style={styles.field}>\n                <ThemedText style={[styles.label, { color: theme.text }]}>CA Scores</ThemedText>\n                <View style={styles.caGrid}>\n                  <CAInput label=\"Midterm (20)\" value={caScores.midterm} max={20} onChange={(val: number) => setCAScores({ ...caScores, midterm: val })} theme={theme} />\n                  <CAInput label=\"Assignment (20)\" value={caScores.assignment} max={20} onChange={(val: number) => setCAScores({ ...caScores, assignment: val })} theme={theme} />\n                  <CAInput label=\"Quiz (10)\" value={caScores.quiz} max={10} onChange={(val: number) => setCAScores({ ...caScores, quiz: val })} theme={theme} />\n                  <CAInput label=\"Attendance (10)\" value={caScores.attendance} max={10} onChange={(val: number) => setCAScores({ ...caScores, attendance: val })} theme={theme} />\n                </View>\n              </View>\n\n              <View style={styles.field}>\n                <ThemedText style={[styles.label, { color: theme.text }]}>Target Grade</ThemedText>\n                <View style={styles.gradeSelector}>\n                  {(['A', 'B', 'C'] as TargetGrade[]).map(grade => (\n                    <Pressable\n                      key={grade}\n                      style={[\n                        styles.gradeChip,\n                        { borderColor: theme.border },\n                        targetGrade === grade && { backgroundColor: theme.primary, borderColor: theme.primary }\n                      ]}\n                      onPress={() => setTargetGrade(grade)}\n                    >\n                      <ThemedText style={[styles.gradeText, { color: targetGrade === grade ? '#FFFFFF' : theme.text }]}>\n                        {grade}\n                      </ThemedText>\n                    </Pressable>\n                  ))}\n                </View>\n              </View>\n\n              <View style={styles.field}>\n                <ThemedText style={[styles.label, { color: theme.text }]}>Difficulty</ThemedText>\n                <View style={styles.difficultySelector}>\n                  {[1, 2, 3, 4, 5].map(level => (\n                    <Pressable\n                      key={level}\n                      onPress={() => setDifficulty(level as any)}\n                    >\n                      <Feather\n                        name=\"star\"\n                        size={32}\n                        color={level <= difficulty ? theme.primary : theme.textSecondary}\n                        fill={level <= difficulty ? theme.primary : 'transparent'}\n                      />\n                    </Pressable>\n                  ))}\n                </View>\n              </View>\n            </>\n          )}\n        </View>\n\n        <View style={styles.actions}>\n          <Button\n            label=\"Cancel\"\n            onPress={() => navigation.goBack()}\n            variant=\"secondary\"\n          />\n          <Button\n            label={loading ? 'Adding...' : 'Add Course'}\n            onPress={handleAdd}\n            disabled={loading}\n          />\n        </View>\n      </View>\n    </ScreenKeyboardAwareScrollView>\n  );\n}\n\nfunction CAInput({ label, value, max, onChange, theme }: any) {\n  const [text, setText] = useState(value.toString());\n\n  const handleChange = (val: string) => {\n    setText(val);\n    const num = parseFloat(val);\n    if (!isNaN(num) && num >= 0 && num <= max) {\n      onChange(num);\n    } else if (val === '') {\n      onChange(0);\n    }\n  };\n\n  return (\n    <View style={styles.caInputContainer}>\n      <ThemedText style={[styles.caLabel, { color: theme.textSecondary }]}>{label}</ThemedText>\n      <TextInput\n        style={[styles.caInput, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n        value={text}\n        onChangeText={handleChange}\n        keyboardType=\"decimal-pad\"\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.xl,\n    gap: Spacing['3xl'],\n  },\n  form: {\n    gap: Spacing['2xl'],\n  },\n  field: {\n    gap: Spacing.sm,\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  caGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: Spacing.md,\n  },\n  caInputContainer: {\n    width: '48%',\n    gap: Spacing.xs,\n  },\n  caLabel: {\n    fontSize: 14,\n  },\n  caInput: {\n    height: 44,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.md,\n    fontSize: 16,\n  },\n  gradeSelector: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n  },\n  gradeChip: {\n    flex: 1,\n    height: 48,\n    borderWidth: 2,\n    borderRadius: BorderRadius.xs,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  gradeText: {\n    fontSize: 18,\n    fontWeight: '700',\n  },\n  difficultySelector: {\n    flexDirection: 'row',\n    gap: Spacing.sm,\n  },\n  actions: {\n    gap: Spacing.md,\n  },\n});\n","size_bytes":10308},"components/HeaderTitle.tsx":{"content":"import React from \"react\";\nimport { View, StyleSheet, Image } from \"react-native\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Spacing } from \"@/constants/theme\";\n\ninterface HeaderTitleProps {\n  title: string;\n}\n\nexport function HeaderTitle({ title }: HeaderTitleProps) {\n  return (\n    <View style={styles.container}>\n      <Image\n        source={require(\"../assets/images/icon.png\")}\n        style={styles.icon}\n        resizeMode=\"contain\"\n      />\n      <ThemedText style={styles.title}>{title}</ThemedText>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n  },\n  icon: {\n    width: 28,\n    height: 28,\n    marginRight: Spacing.sm,\n  },\n  title: {\n    fontSize: 17,\n    fontWeight: \"600\",\n  },\n});\n","size_bytes":829},"screens/LoginScreen.tsx":{"content":"import React, { useState } from 'react';\nimport { View, StyleSheet, TextInput, Alert, Pressable } from 'react-native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ThemedView } from '@/components/ThemedView';\nimport { Button } from '@/components/Button';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function LoginScreen({ navigation }: any) {\n  const { theme } = useTheme();\n  const { signIn } = useAuth();\n  const insets = useSafeAreaInsets();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async () => {\n    if (!email.trim() || !password) {\n      Alert.alert('Error', 'Please enter both email and password');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await signIn(email, password);\n    } catch (error: any) {\n      Alert.alert('Login Failed', error.message || 'Invalid credentials');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <ThemedView style={[styles.container, { paddingTop: insets.top + Spacing.xl, paddingBottom: insets.bottom + Spacing.xl }]}>\n      <View style={styles.content}>\n        <View style={styles.iconContainer}>\n          <Feather name=\"book-open\" size={64} color={theme.primary} />\n        </View>\n        \n        <ThemedText style={[styles.title, { color: theme.text }]}>Student Atlas</ThemedText>\n        <ThemedText style={[styles.subtitle, { color: theme.textSecondary }]}>\n          Track your academic journey\n        </ThemedText>\n\n        <View style={styles.form}>\n          <TextInput\n            style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n            placeholder=\"Email\"\n            placeholderTextColor={theme.textSecondary}\n            value={email}\n            onChangeText={setEmail}\n            autoCapitalize=\"none\"\n            keyboardType=\"email-address\"\n            autoCorrect={false}\n          />\n\n          <TextInput\n            style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n            placeholder=\"Password\"\n            placeholderTextColor={theme.textSecondary}\n            value={password}\n            onChangeText={setPassword}\n            secureTextEntry\n            autoCapitalize=\"none\"\n          />\n\n          <Button\n            label={loading ? 'Signing In...' : 'Sign In'}\n            onPress={handleLogin}\n            disabled={loading}\n            style={styles.button}\n          />\n\n          <Pressable onPress={() => navigation.navigate('Signup')} style={styles.signupPrompt}>\n            <ThemedText style={{ color: theme.textSecondary }}>\n              Don't have an account?{' '}\n              <ThemedText style={{ color: theme.primary, fontWeight: '600' }}>Sign Up</ThemedText>\n            </ThemedText>\n          </Pressable>\n        </View>\n      </View>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n    paddingHorizontal: Spacing.xl,\n    justifyContent: 'center',\n  },\n  iconContainer: {\n    alignItems: 'center',\n    marginBottom: Spacing['2xl'],\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: '700',\n    textAlign: 'center',\n    marginBottom: Spacing.sm,\n  },\n  subtitle: {\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: Spacing['4xl'],\n  },\n  form: {\n    gap: Spacing.lg,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  button: {\n    marginTop: Spacing.md,\n  },\n  signupPrompt: {\n    alignItems: 'center',\n    marginTop: Spacing.md,\n  },\n});\n","size_bytes":3981},"scripts/build.js":{"content":"const fs = require(\"fs\");\nconst path = require(\"path\");\nconst { spawn } = require(\"child_process\");\nconst { Readable } = require(\"stream\");\nconst { pipeline } = require(\"stream/promises\");\n\nlet metroProcess = null;\n\nfunction exitWithError(message) {\n  console.error(message);\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(1);\n}\n\nfunction setupSignalHandlers() {\n  const cleanup = () => {\n    if (metroProcess) {\n      console.log(\"Cleaning up Metro process...\");\n      metroProcess.kill();\n    }\n    process.exit(0);\n  };\n\n  process.on(\"SIGINT\", cleanup);\n  process.on(\"SIGTERM\", cleanup);\n  process.on(\"SIGHUP\", cleanup);\n}\n\nfunction getDeploymentUrl() {\n  if (process.env.REPLIT_INTERNAL_APP_DOMAIN) {\n    const url = `https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;\n    console.log(\"Using REPLIT_INTERNAL_APP_DOMAIN:\", url);\n    return url;\n  }\n\n  if (process.env.REPLIT_DEV_DOMAIN) {\n    const url = `https://${process.env.REPLIT_DEV_DOMAIN}`;\n    console.log(\"Using REPLIT_DEV_DOMAIN:\", url);\n    return url;\n  }\n\n  console.error(\n    \"ERROR: REPLIT_INTERNAL_APP_DOMAIN and REPLIT_DEV_DOMAIN not set\",\n  );\n  process.exit(1);\n}\n\nfunction prepareDirectories(timestamp) {\n  console.log(\"Preparing build directories...\");\n\n  if (fs.existsSync(\"static-build\")) {\n    fs.rmSync(\"static-build\", { recursive: true });\n  }\n\n  const dirs = [\n    path.join(\"static-build\", timestamp, \"_expo\", \"static\", \"js\", \"ios\"),\n    path.join(\"static-build\", timestamp, \"_expo\", \"static\", \"js\", \"android\"),\n    path.join(\"static-build\", \"ios\"),\n    path.join(\"static-build\", \"android\"),\n  ];\n\n  for (const dir of dirs) {\n    fs.mkdirSync(dir, { recursive: true });\n  }\n\n  console.log(\"Build:\", timestamp);\n}\n\nfunction clearMetroCache() {\n  console.log(\"Clearing Metro cache...\");\n\n  const cacheDirs = [\n    ...fs.globSync(\".metro-cache\"),\n    ...fs.globSync(\"node_modules/.cache/metro\"),\n  ];\n\n  for (const dir of cacheDirs) {\n    fs.rmSync(dir, { recursive: true, force: true });\n  }\n\n  console.log(\"Cache cleared\");\n}\n\nasync function checkMetroHealth() {\n  try {\n    const response = await fetch(\"http://localhost:8081/status\");\n    return response.ok;\n  } catch {\n    return false;\n  }\n}\n\nasync function startMetro() {\n  const isRunning = await checkMetroHealth();\n  if (isRunning) {\n    return;\n  }\n\n  console.log(\"Starting Metro...\");\n  metroProcess = spawn(\"npm\", [\"run\", \"dev\"], {\n    stdio: [\"ignore\", \"ignore\", \"ignore\"],\n    detached: false,\n  });\n\n  for (let i = 0; i < 30; i++) {\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n    const healthy = await checkMetroHealth();\n    if (healthy) {\n      console.log(\"Metro ready\");\n      return;\n    }\n  }\n\n  console.error(\"Metro timeout\");\n  process.exit(1);\n}\n\nasync function downloadFile(url, outputPath) {\n  try {\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    const file = fs.createWriteStream(outputPath);\n    await pipeline(Readable.fromWeb(response.body), file);\n\n    const fileSize = fs.statSync(outputPath).size;\n\n    if (fileSize === 0) {\n      fs.unlinkSync(outputPath);\n      throw new Error(\"Downloaded file is empty\");\n    }\n  } catch (error) {\n    if (fs.existsSync(outputPath)) {\n      fs.unlinkSync(outputPath);\n    }\n    throw error;\n  }\n}\n\nasync function downloadBundle(platform, timestamp) {\n  const url = new URL(\"http://localhost:8081/index.bundle\");\n  url.searchParams.set(\"platform\", platform);\n  url.searchParams.set(\"dev\", \"false\");\n  url.searchParams.set(\"hot\", \"false\");\n  url.searchParams.set(\"lazy\", \"false\");\n  url.searchParams.set(\"minify\", \"true\");\n\n  const output = path.join(\n    \"static-build\",\n    timestamp,\n    \"_expo\",\n    \"static\",\n    \"js\",\n    platform,\n    \"bundle.js\",\n  );\n\n  try {\n    await downloadFile(url.toString(), output);\n  } catch (error) {\n    exitWithError(`Failed to download ${platform} bundle: ${error.message}`);\n  }\n}\n\nasync function downloadManifest(platform) {\n  const response = await fetch(\"http://localhost:8081/manifest\", {\n    headers: { \"expo-platform\": platform },\n  });\n\n  if (!response.ok) {\n    throw new Error(`HTTP ${response.status}`);\n  }\n\n  return await response.json();\n}\n\nasync function downloadBundlesAndManifests(timestamp) {\n  console.log(\"Downloading bundles and manifests...\");\n\n  try {\n    const [, , iosManifest, androidManifest] = await Promise.all([\n      downloadBundle(\"ios\", timestamp),\n      downloadBundle(\"android\", timestamp),\n      downloadManifest(\"ios\"),\n      downloadManifest(\"android\"),\n    ]);\n    console.log(\"Downloaded\");\n    return { ios: iosManifest, android: androidManifest };\n  } catch (error) {\n    exitWithError(`Download failed: ${error.message}`);\n  }\n}\n\nfunction extractAssets(timestamp) {\n  const bundles = {\n    ios: fs.readFileSync(\n      path.join(\n        \"static-build\",\n        timestamp,\n        \"_expo\",\n        \"static\",\n        \"js\",\n        \"ios\",\n        \"bundle.js\",\n      ),\n      \"utf-8\",\n    ),\n    android: fs.readFileSync(\n      path.join(\n        \"static-build\",\n        timestamp,\n        \"_expo\",\n        \"static\",\n        \"js\",\n        \"android\",\n        \"bundle.js\",\n      ),\n      \"utf-8\",\n    ),\n  };\n\n  const assetsMap = new Map();\n  const assetPattern =\n    /httpServerLocation:\"([^\"]+)\"[^}]*hash:\"([^\"]+)\"[^}]*name:\"([^\"]+)\"[^}]*type:\"([^\"]+)\"/g;\n\n  const extractFromBundle = (bundle, platform) => {\n    for (const match of bundle.matchAll(assetPattern)) {\n      const originalPath = match[1];\n      const filename = match[3] + \".\" + match[4];\n\n      const tempUrl = new URL(`http://localhost:8081${originalPath}`);\n      const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n      if (!unstablePath) {\n        throw new Error(`Asset missing unstable_path: ${originalPath}`);\n      }\n\n      const decodedPath = decodeURIComponent(unstablePath).replace(/^\\.\\//, \"\");\n      const key = path.posix.join(decodedPath, filename);\n\n      if (!assetsMap.has(key)) {\n        const asset = {\n          url: path.posix.join(\"/\", decodedPath, filename),\n          originalPath: originalPath,\n          filename: filename,\n          relativePath: decodedPath,\n          hash: match[2],\n          platforms: new Set(),\n        };\n\n        assetsMap.set(key, asset);\n      }\n      assetsMap.get(key).platforms.add(platform);\n    }\n  };\n\n  extractFromBundle(bundles.ios, \"ios\");\n  extractFromBundle(bundles.android, \"android\");\n\n  return Array.from(assetsMap.values());\n}\n\nasync function downloadAssets(assets, timestamp) {\n  if (assets.length === 0) {\n    return 0;\n  }\n\n  console.log(\"Downloading assets...\");\n  let successCount = 0;\n  const failures = [];\n\n  const downloadPromises = assets.map(async (asset) => {\n    const platform = Array.from(asset.platforms)[0];\n\n    const tempUrl = new URL(`http://localhost:8081${asset.originalPath}`);\n    const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n    if (!unstablePath) {\n      throw new Error(`Asset missing unstable_path: ${asset.originalPath}`);\n    }\n\n    const decodedPath = decodeURIComponent(unstablePath).replace(/^\\./, \"\");\n    const metroUrl = new URL(\n      `http://localhost:8081${path.posix.join(\"/assets\", decodedPath, asset.filename)}`,\n    );\n    metroUrl.searchParams.set(\"platform\", platform);\n    metroUrl.searchParams.set(\"hash\", asset.hash);\n\n    const outputDir = path.join(\n      \"static-build\",\n      timestamp,\n      \"_expo\",\n      \"static\",\n      \"js\",\n      asset.relativePath,\n    );\n    fs.mkdirSync(outputDir, { recursive: true });\n    const output = path.join(outputDir, asset.filename);\n\n    try {\n      await downloadFile(metroUrl.toString(), output);\n      successCount++;\n    } catch (error) {\n      failures.push({\n        filename: asset.filename,\n        error: error.message,\n        url: metroUrl.toString(),\n      });\n    }\n  });\n\n  await Promise.all(downloadPromises);\n\n  if (failures.length > 0) {\n    const errorMsg =\n      `Failed to download ${failures.length} asset(s):\\n` +\n      failures\n        .map((f) => `  - ${f.filename}: ${f.error} (${f.url})`)\n        .join(\"\\n\");\n    exitWithError(errorMsg);\n  }\n\n  console.log(`Downloaded ${successCount} assets`);\n  return successCount;\n}\n\nfunction updateBundleUrls(timestamp, baseUrl) {\n  const updateForPlatform = (platform) => {\n    const bundlePath = path.join(\n      \"static-build\",\n      timestamp,\n      \"_expo\",\n      \"static\",\n      \"js\",\n      platform,\n      \"bundle.js\",\n    );\n    let bundle = fs.readFileSync(bundlePath, \"utf-8\");\n\n    bundle = bundle.replace(\n      /httpServerLocation:\"(\\/[^\"]+)\"/g,\n      (_match, capturedPath) => {\n        const tempUrl = new URL(`http://localhost:8081${capturedPath}`);\n        const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n        if (!unstablePath) {\n          throw new Error(\n            `Asset missing unstable_path in bundle: ${capturedPath}`,\n          );\n        }\n\n        const decodedPath = decodeURIComponent(unstablePath).replace(\n          /^\\.\\//,\n          \"\",\n        );\n        return `httpServerLocation:\"${baseUrl}/${timestamp}/_expo/static/js/${decodedPath}\"`;\n      },\n    );\n\n    fs.writeFileSync(bundlePath, bundle);\n  };\n\n  updateForPlatform(\"ios\");\n  updateForPlatform(\"android\");\n  console.log(\"Updated bundle URLs\");\n}\n\nfunction updateManifests(manifests, timestamp, baseUrl, assetsByHash) {\n  const updateForPlatform = (platform, manifest) => {\n    if (!manifest.launchAsset || !manifest.extra) {\n      exitWithError(`Malformed manifest for ${platform}`);\n    }\n\n    manifest.launchAsset.url = `${baseUrl}/${timestamp}/_expo/static/js/${platform}/bundle.js`;\n    manifest.launchAsset.key = `bundle-${timestamp}`;\n    manifest.createdAt = new Date(\n      Number(timestamp.split(\"-\")[0]),\n    ).toISOString();\n    manifest.extra.expoClient.hostUri =\n      baseUrl.replace(\"https://\", \"\") + \"/\" + platform;\n    manifest.extra.expoGo.debuggerHost =\n      baseUrl.replace(\"https://\", \"\") + \"/\" + platform;\n    manifest.extra.expoGo.packagerOpts.dev = false;\n\n    if (manifest.assets && manifest.assets.length > 0) {\n      manifest.assets.forEach((asset) => {\n        if (!asset.url) return;\n\n        const hash = asset.hash;\n        if (!hash) return;\n\n        const assetInfo = assetsByHash.get(hash);\n        if (!assetInfo) return;\n\n        asset.url = `${baseUrl}/${timestamp}/_expo/static/js/${assetInfo.relativePath}/${assetInfo.filename}`;\n      });\n    }\n\n    fs.writeFileSync(\n      path.join(\"static-build\", platform, \"manifest.json\"),\n      JSON.stringify(manifest, null, 2),\n    );\n  };\n\n  updateForPlatform(\"ios\", manifests.ios);\n  updateForPlatform(\"android\", manifests.android);\n  console.log(\"Manifests updated\");\n}\n\nfunction createLandingPage(baseUrl) {\n  const expsUrl = baseUrl.replace(\"https://\", \"\");\n  const template = fs.readFileSync(\n    path.join(\"scripts\", \"landing-page-template.html\"),\n    \"utf-8\",\n  );\n\n  const html = template\n    .replace(/BASE_URL_PLACEHOLDER/g, baseUrl)\n    .replace(/EXPS_URL_PLACEHOLDER/g, expsUrl);\n\n  fs.writeFileSync(path.join(\"static-build\", \"index.html\"), html);\n  console.log(\"Complete\");\n}\n\nasync function main() {\n  console.log(\"Building static Expo Go deployment...\");\n\n  setupSignalHandlers();\n\n  const baseUrl = getDeploymentUrl();\n  const timestamp = `${Date.now()}-${process.pid}`;\n\n  prepareDirectories(timestamp);\n  clearMetroCache();\n\n  await startMetro();\n  const manifests = await downloadBundlesAndManifests(timestamp);\n\n  console.log(\"Processing assets...\");\n  const assets = extractAssets(timestamp);\n  console.log(\"Found\", assets.length, \"unique asset(s)\");\n\n  const assetsByHash = new Map();\n  for (const asset of assets) {\n    assetsByHash.set(asset.hash, {\n      relativePath: asset.relativePath,\n      filename: asset.filename,\n    });\n  }\n\n  const assetCount = await downloadAssets(assets, timestamp);\n\n  if (assetCount > 0) {\n    updateBundleUrls(timestamp, baseUrl);\n  }\n\n  console.log(\"Updating manifests and creating landing page...\");\n  updateManifests(manifests, timestamp, baseUrl, assetsByHash);\n  createLandingPage(baseUrl);\n\n  console.log(\"Build complete! Deploy to:\", baseUrl);\n\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(0);\n}\n\nmain().catch((error) => {\n  console.error(\"Build failed:\", error.message);\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(1);\n});\n","size_bytes":12348},"contexts/AuthContext.tsx":{"content":"import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { \n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signOut as firebaseSignOut,\n  onAuthStateChanged,\n  deleteUser as firebaseDeleteUser,\n  User as FirebaseUser\n} from 'firebase/auth';\nimport { auth } from '@/services/firebase';\nimport { storageService } from '@/services/storageService';\n\ninterface User {\n  uid: string;\n  email: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<void>;\n  signUp: (email: string, password: string) => Promise<void>;\n  signOut: () => Promise<void>;\n  deleteAccount: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (firebaseUser) => {\n      if (firebaseUser) {\n        setUser({\n          uid: firebaseUser.uid,\n          email: firebaseUser.email || '',\n        });\n      } else {\n        setUser(null);\n      }\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      const trimmedEmail = email.trim().toLowerCase();\n      await signInWithEmailAndPassword(auth, trimmedEmail, password);\n    } catch (error: any) {\n      if (error.code === 'auth/user-not-found') {\n        throw new Error('No account found with this email');\n      } else if (error.code === 'auth/wrong-password') {\n        throw new Error('Incorrect password');\n      } else if (error.code === 'auth/invalid-email') {\n        throw new Error('Invalid email address');\n      } else if (error.code === 'auth/invalid-credential') {\n        throw new Error('Invalid email or password');\n      } else {\n        throw new Error(error.message || 'Failed to sign in');\n      }\n    }\n  };\n\n  const signUp = async (email: string, password: string) => {\n    try {\n      const trimmedEmail = email.trim().toLowerCase();\n      await createUserWithEmailAndPassword(auth, trimmedEmail, password);\n    } catch (error: any) {\n      if (error.code === 'auth/email-already-in-use') {\n        throw new Error('An account with this email already exists');\n      } else if (error.code === 'auth/weak-password') {\n        throw new Error('Password should be at least 6 characters');\n      } else if (error.code === 'auth/invalid-email') {\n        throw new Error('Invalid email address');\n      } else {\n        throw new Error(error.message || 'Failed to create account');\n      }\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      await firebaseSignOut(auth);\n    } catch (error) {\n      console.error('Failed to sign out:', error);\n      throw error;\n    }\n  };\n\n  const deleteAccount = async () => {\n    try {\n      if (auth.currentUser && user) {\n        await storageService.deleteSemesters(user.uid);\n        await firebaseDeleteUser(auth.currentUser);\n      }\n    } catch (error) {\n      console.error('Failed to delete account:', error);\n      throw error;\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, signIn, signUp, signOut, deleteAccount }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n","size_bytes":3600},"components/ErrorBoundary.tsx":{"content":"import React, { Component, ComponentType, PropsWithChildren } from \"react\";\nimport { ErrorFallback, ErrorFallbackProps } from \"@/components/ErrorFallback\";\n\nexport type ErrorBoundaryProps = PropsWithChildren<{\n  FallbackComponent?: ComponentType<ErrorFallbackProps>;\n  onError?: (error: Error, stackTrace: string) => void;\n}>;\n\ntype ErrorBoundaryState = { error: Error | null };\n\n/**\n * This is a special case for for using the class components. Error boundaries must be class components because React only provides error boundary functionality through lifecycle methods (componentDidCatch and getDerivedStateFromError) which are not available in functional components.\n * https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary\n */\n\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  state: ErrorBoundaryState = { error: null };\n\n  static defaultProps: {\n    FallbackComponent: ComponentType<ErrorFallbackProps>;\n  } = {\n    FallbackComponent: ErrorFallback,\n  };\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { error };\n  }\n\n  componentDidCatch(error: Error, info: { componentStack: string }): void {\n    if (typeof this.props.onError === \"function\") {\n      this.props.onError(error, info.componentStack);\n    }\n  }\n\n  resetError = (): void => {\n    this.setState({ error: null });\n  };\n\n  render() {\n    const { FallbackComponent } = this.props;\n\n    return this.state.error && FallbackComponent ? (\n      <FallbackComponent\n        error={this.state.error}\n        resetError={this.resetError}\n      />\n    ) : (\n      this.props.children\n    );\n  }\n}\n","size_bytes":1674},"hooks/useColorScheme.web.ts":{"content":"import { useEffect, useState } from \"react\";\nimport { useColorScheme as useRNColorScheme } from \"react-native\";\n\n/**\n * To support static rendering, this value needs to be re-calculated on the client side for web\n */\nexport function useColorScheme() {\n  const [hasHydrated, setHasHydrated] = useState(false);\n\n  useEffect(() => {\n    setHasHydrated(true);\n  }, []);\n\n  const colorScheme = useRNColorScheme();\n\n  if (hasHydrated) {\n    return colorScheme;\n  }\n\n  return \"light\";\n}\n","size_bytes":480},"hooks/useGPAAnalytics.ts":{"content":"import { useMemo } from 'react';\nimport { Semester, Course } from '@/types';\nimport { calculateGPA, getGradeFromScore } from '@/utils/calculations';\n\nexport interface GPATrendData {\n  semesterName: string;\n  gpa: number;\n  timestamp: number;\n}\n\nexport interface CoursePerformance {\n  course: Course;\n  semesterName: string;\n  difficulty: 'easy' | 'moderate' | 'hard';\n  performance: 'excellent' | 'good' | 'fair' | 'poor';\n}\n\nexport interface AnalyticsInsights {\n  trendData: GPATrendData[];\n  averageGPA: number;\n  highestGPA: number;\n  lowestGPA: number;\n  bestPerformingCourses: CoursePerformance[];\n  worstPerformingCourses: CoursePerformance[];\n  recommendations: string[];\n}\n\nexport function useGPAAnalytics(semesters: Semester[]): AnalyticsInsights {\n  return useMemo(() => {\n    const pastSemesters = semesters\n      .filter(s => !s.isCurrent)\n      .sort((a, b) => a.timestamp - b.timestamp);\n\n    const trendData: GPATrendData[] = pastSemesters.map(semester => ({\n      semesterName: semester.name,\n      gpa: calculateGPA(semester.courses),\n      timestamp: semester.timestamp,\n    }));\n\n    const allCoursePerformances: CoursePerformance[] = [];\n    pastSemesters.forEach(semester => {\n      semester.courses.forEach(course => {\n        if (course.finalScore !== undefined) {\n          const performance = assessCoursePerformance(course, semester);\n          allCoursePerformances.push(performance);\n        }\n      });\n    });\n\n    allCoursePerformances.sort((a, b) => {\n      const scoreA = a.course.finalScore || 0;\n      const scoreB = b.course.finalScore || 0;\n      return scoreB - scoreA;\n    });\n\n    const bestPerformingCourses = allCoursePerformances.slice(0, 5);\n    const worstPerformingCourses = allCoursePerformances.slice(-5).reverse();\n\n    const gpas = trendData.map(t => t.gpa);\n    const averageGPA = gpas.length > 0 ? gpas.reduce((sum, gpa) => sum + gpa, 0) / gpas.length : 0;\n    const highestGPA = gpas.length > 0 ? Math.max(...gpas) : 0;\n    const lowestGPA = gpas.length > 0 ? Math.min(...gpas) : 0;\n\n    const recommendations = generateRecommendations(\n      trendData,\n      allCoursePerformances,\n      averageGPA\n    );\n\n    return {\n      trendData,\n      averageGPA,\n      highestGPA,\n      lowestGPA,\n      bestPerformingCourses,\n      worstPerformingCourses,\n      recommendations,\n    };\n  }, [semesters]);\n}\n\nfunction assessCoursePerformance(course: Course, semester: Semester): CoursePerformance {\n  const score = course.finalScore || 0;\n  const caScore = course.caScore || 0;\n  \n  let difficulty: 'easy' | 'moderate' | 'hard' = 'moderate';\n  if (caScore >= 50) {\n    difficulty = 'easy';\n  } else if (caScore < 40) {\n    difficulty = 'hard';\n  }\n\n  let performance: 'excellent' | 'good' | 'fair' | 'poor' = 'fair';\n  if (score >= 80) {\n    performance = 'excellent';\n  } else if (score >= 70) {\n    performance = 'good';\n  } else if (score >= 50) {\n    performance = 'fair';\n  } else {\n    performance = 'poor';\n  }\n\n  return {\n    course,\n    semesterName: semester.name,\n    difficulty,\n    performance,\n  };\n}\n\nfunction generateRecommendations(\n  trendData: GPATrendData[],\n  coursePerformances: CoursePerformance[],\n  averageGPA: number\n): string[] {\n  const recommendations: string[] = [];\n\n  if (trendData.length >= 2) {\n    const recentTrend = trendData.slice(-3);\n    const isImproving = recentTrend.every((t, i) => \n      i === 0 || t.gpa >= recentTrend[i - 1].gpa\n    );\n    const isDeclining = recentTrend.every((t, i) => \n      i === 0 || t.gpa <= recentTrend[i - 1].gpa\n    );\n\n    if (isImproving) {\n      recommendations.push('Great progress! Your GPA trend shows consistent improvement.');\n    } else if (isDeclining) {\n      recommendations.push('Consider reviewing your study habits. Your GPA has been declining.');\n    }\n  }\n\n  if (averageGPA >= 4.5) {\n    recommendations.push('Excellent academic performance! Keep up the great work.');\n  } else if (averageGPA >= 3.5) {\n    recommendations.push('Good academic standing. Focus on challenging courses to boost your GPA.');\n  } else if (averageGPA >= 2.5) {\n    recommendations.push('Consider seeking academic support or tutoring for difficult courses.');\n  } else {\n    recommendations.push('Academic intervention recommended. Speak with your academic advisor.');\n  }\n\n  const hardCourses = coursePerformances.filter(c => \n    c.difficulty === 'hard' && c.performance === 'poor'\n  );\n  \n  if (hardCourses.length > 0) {\n    recommendations.push(`Focus more attention on challenging courses to improve overall performance.`);\n  }\n\n  const highUnitCourses = coursePerformances.filter(c => \n    c.course.units >= 3 && c.performance !== 'excellent'\n  );\n  \n  if (highUnitCourses.length >= 3) {\n    recommendations.push('Prioritize high-unit courses as they have greater impact on your GPA.');\n  }\n\n  if (recommendations.length === 0) {\n    recommendations.push('Keep maintaining your current study patterns and stay consistent.');\n  }\n\n  return recommendations;\n}\n","size_bytes":4976},"design_guidelines.md":{"content":"# Student Atlas - Mobile Design Guidelines\n\n## Authentication\n**Required** - The app handles user-specific academic data that must persist across devices.\n- **Implementation**: Email/Password authentication via Firebase Auth\n- **Screens Required**:\n  - Login screen with email/password fields\n  - Sign-up screen with email, password, and confirmation\n  - Password reset flow\n  - Account screen with logout and delete account options (nested: Settings > Account > Delete Account with double confirmation)\n\n## Navigation Architecture\n\n**Root Navigation**: Tab Navigation (3 tabs)\n- **Tab 1 - Semesters**: Main dashboard showing all semesters grouped by Past/Current\n- **Tab 2 - GPA**: Dedicated GPA view with CGPA, predicted CGPA, and semester GPAs\n- **Tab 3 - Settings**: Theme switcher, account management, backup/export, about\n\n**Floating Action Button**: Positioned above tab bar for \"Add Semester\" action (primary CTA throughout app)\n\n## Screen Specifications\n\n### 1. Semesters Dashboard (Tab 1)\n- **Purpose**: Display all semesters, grouped by Current (max 1) and Past\n- **Header**: Transparent, title \"Semesters\", no search bar\n- **Layout**:\n  - Scrollable root view\n  - Top inset: headerHeight + Spacing.xl\n  - Bottom inset: tabBarHeight + Spacing.xl\n  - Section headers: \"Current Semester\" and \"Past Semesters\"\n  - Cards for each semester showing: name, GPA badge, course count\n  - Empty state illustration when no semesters exist\n- **Floating Elements**: \n  - FAB for \"Add Semester\" (bottom right)\n  - FAB insets: bottom: tabBarHeight + Spacing.xl, right: Spacing.xl\n  - Shadow: {width: 0, height: 2}, opacity: 0.10, radius: 2\n\n### 2. Semester Detail Screen (Stack Modal)\n- **Purpose**: View all courses in a semester, edit semester, see semester GPA\n- **Header**: Non-transparent, semester name as title, left: back button, right: edit icon\n- **Layout**:\n  - Scrollable root view\n  - Top inset: Spacing.xl (has non-transparent header)\n  - Bottom inset: insets.bottom + Spacing.xl (no tab bar in modal)\n  - Semester stats card: GPA (current/predicted if current semester), total units, course count\n  - Course list (cards with course name, code, grade/CA scores, units)\n  - Delete semester button at bottom (destructive style)\n- **Floating Elements**: \n  - FAB for \"Add Course\" (bottom right, same shadow specs)\n\n### 3. Course Detail Screen (Stack Modal)\n- **Purpose**: View/edit course details, CA scores, dynamic exam target table\n- **Header**: Non-transparent, course name as title, left: back button, right: save icon\n- **Layout**:\n  - Scrollable form\n  - Top inset: Spacing.xl\n  - Bottom inset: insets.bottom + Spacing.xl\n  - Form sections:\n    - Course info (name, code, units - non-editable field group)\n    - CA scores (midterm, assignment, quiz, attendance - editable for current semester)\n    - Target grade selector (A/B/C chips)\n    - Difficulty stars (1-5)\n    - Dynamic exam target table (for current semester only)\n    - Final score field (optional, for current semester)\n  - Delete course button at bottom (destructive)\n  - Submit/Cancel: Header right button (save), left button (cancel)\n\n### 4. Add Semester Modal\n- **Purpose**: Create new semester with type selection\n- **Header**: Non-transparent, title \"New Semester\", left: cancel, right: create\n- **Layout**:\n  - Non-scrollable form (fits in viewport)\n  - Top inset: Spacing.xl\n  - Bottom inset: insets.bottom + Spacing.xl\n  - Form fields:\n    - Semester name input\n    - Type segmented control: \"Past\" / \"Current\"\n    - Conditional fields based on type selection\n  - Submit/Cancel: in header\n\n### 5. Add Course Modal\n- **Purpose**: Add course to semester (past vs current flow differs)\n- **Header**: Non-transparent, title \"Add Course\", left: cancel, right: add\n- **Layout**:\n  - Scrollable form (fields differ by semester type)\n  - Past semester: name, code, units, final score\n  - Current semester: name, code, units, CA scores, target grade, difficulty\n  - Submit/Cancel: in header\n\n### 6. GPA View (Tab 2)\n- **Purpose**: Display comprehensive GPA overview with visualizations\n- **Header**: Transparent, title \"My GPA\", no search bar\n- **Layout**:\n  - Scrollable root view\n  - Top inset: headerHeight + Spacing.xl\n  - Bottom inset: tabBarHeight + Spacing.xl\n  - Summary cards: Current CGPA, Predicted CGPA\n  - GPA chart (line/bar chart showing semester progression)\n  - List of all semester GPAs with semester names\n  - Empty state when no past semesters\n\n### 7. Settings Screen (Tab 3)\n- **Purpose**: Theme selection, account management, app info\n- **Header**: Transparent, title \"Settings\"\n- **Layout**:\n  - Scrollable list\n  - Top inset: headerHeight + Spacing.xl\n  - Bottom inset: tabBarHeight + Spacing.xl\n  - Settings groups:\n    - Appearance (theme chips grid: 5 theme options with preview)\n    - Account (nested navigation to account management)\n    - Data (backup, export options)\n    - About (developer info, app version)\n\n## Design System\n\n### Color Palette\n**Five theme options** with these base color specifications:\n\n**Default Dark Theme** (default):\n- Background: #121212\n- Surface: #1E1E1E\n- Primary: #BB86FC (purple accent)\n- Text Primary: #FFFFFF\n- Text Secondary: #B3B3B3\n- Success: #4CAF50 (grade A)\n- Warning: #FF9800 (grade C)\n- Error: #F44336 (fail grades)\n\n**Dark Theme**:\n- Background: #000000\n- Surface: #1C1C1C\n- Primary: #0A84FF (iOS blue)\n- Text Primary: #FFFFFF\n- Text Secondary: #8E8E93\n\n**Blue Theme**:\n- Background: #E3F2FD\n- Surface: #FFFFFF\n- Primary: #2196F3\n- Text Primary: #1A237E\n- Text Secondary: #5C6BC0\n\n**Light Pink Theme**:\n- Background: #FCE4EC\n- Surface: #FFFFFF\n- Primary: #E91E63\n- Text Primary: #880E4F\n- Text Secondary: #AD1457\n\n**Light Theme**:\n- Background: #FFFFFF\n- Surface: #F5F5F5\n- Primary: #6200EE\n- Text Primary: #000000\n- Text Secondary: #666666\n\n### Typography\n- **Header Large**: 32px, Bold, Primary Text\n- **Header Medium**: 24px, Semibold, Primary Text\n- **Title**: 18px, Semibold, Primary Text\n- **Body**: 16px, Regular, Primary Text\n- **Caption**: 14px, Regular, Secondary Text\n- **Label**: 12px, Medium, Secondary Text\n\n### Component Patterns\n\n**GPA Badge**: Circular badge with GPA value, color-coded by performance (5.0=Success, 4.0=Primary, <3.0=Warning)\n\n**Semester Card**: \n- Rounded corners (12px)\n- Subtle border (1px, surface variant)\n- No drop shadow\n- Press feedback: opacity 0.7\n\n**Course Card**:\n- Rounded corners (8px)\n- Subtle border\n- Left accent bar (4px) color-coded by grade/status\n- Press feedback: opacity 0.7\n\n**Theme Chip**:\n- Circular preview swatch (40px diameter)\n- Label below\n- Selected state: border (2px, primary color)\n- Press feedback: scale 0.95\n\n**Difficulty Stars**: \n- Filled/unfilled star icons\n- Color: primary for filled, surface variant for unfilled\n\n**Target Grade Chips**:\n- Horizontal chip group\n- Selected chip: filled with primary color\n- Unselected: outlined with primary color\n- Press feedback: scale 0.95\n\n**Dynamic Exam Table**:\n- Table with alternating row colors (surface/background)\n- Headers: bold, primary text\n- Borders: subtle (1px, surface variant)\n\n**FAB** (Floating Action Button):\n- Size: 56x56px\n- Icon: Plus symbol\n- Color: Primary\n- Shadow: {width: 0, height: 2}, opacity: 0.10, radius: 2\n- Press feedback: scale 0.9\n\n### Critical Assets\n1. **Empty State Illustrations** (3 required):\n   - No semesters yet (dashboard)\n   - No courses in semester\n   - No GPA data yet\n   - Style: Minimal line art in primary color, 200x200px\n\n2. **Achievement Confetti Animation**: JSON Lottie file for GPA milestone celebrations\n\n3. **App Icon**: Academic-themed icon with book/atlas imagery, 1024x1024px\n\n### Accessibility\n- All touchable elements minimum 44x44pt tap target\n- Color contrast ratio  4.5:1 for text\n- Dynamic type support for accessibility font sizes\n- VoiceOver labels for all interactive elements\n- Confirmation alerts for destructive actions (delete semester/course)\n- Form field validation with clear error messages","size_bytes":7935},"components/ScreenFlatList.tsx":{"content":"import React from \"react\";\nimport { FlatList, FlatListProps, StyleSheet } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useScreenInsets } from \"@/hooks/useScreenInsets\";\nimport { Spacing } from \"@/constants/theme\";\n\nexport function ScreenFlatList<T>({\n  contentContainerStyle,\n  style,\n  ...flatListProps\n}: FlatListProps<T>) {\n  const { theme } = useTheme();\n  const { paddingTop, paddingBottom, scrollInsetBottom } = useScreenInsets();\n\n  return (\n    <FlatList\n      style={[\n        styles.container,\n        { backgroundColor: theme.backgroundRoot },\n        style,\n      ]}\n      contentContainerStyle={[\n        {\n          paddingTop,\n          paddingBottom,\n        },\n        styles.contentContainer,\n        contentContainerStyle,\n      ]}\n      scrollIndicatorInsets={{ bottom: scrollInsetBottom }}\n      {...flatListProps}\n    />\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingHorizontal: Spacing.xl,\n  },\n});\n","size_bytes":1016},"constants/theme.ts":{"content":"import { Platform } from \"react-native\";\n\nexport type ThemeName = 'defaultDark' | 'dark' | 'blue' | 'lightPink' | 'light';\n\nexport const Colors = {\n  defaultDark: {\n    text: \"#FFFFFF\",\n    textSecondary: \"#B3B3B3\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#B3B3B3\",\n    tabIconSelected: \"#BB86FC\",\n    link: \"#BB86FC\",\n    primary: \"#BB86FC\",\n    backgroundRoot: \"#121212\",\n    backgroundDefault: \"#1E1E1E\",\n    backgroundSecondary: \"#2A2A2A\",\n    backgroundTertiary: \"#353535\",\n    success: \"#4CAF50\",\n    warning: \"#FF9800\",\n    error: \"#F44336\",\n    border: \"#333333\",\n  },\n  dark: {\n    text: \"#FFFFFF\",\n    textSecondary: \"#8E8E93\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#8E8E93\",\n    tabIconSelected: \"#0A84FF\",\n    link: \"#0A84FF\",\n    primary: \"#0A84FF\",\n    backgroundRoot: \"#000000\",\n    backgroundDefault: \"#1C1C1C\",\n    backgroundSecondary: \"#2A2A2A\",\n    backgroundTertiary: \"#353535\",\n    success: \"#4CAF50\",\n    warning: \"#FF9800\",\n    error: \"#F44336\",\n    border: \"#2C2C2E\",\n  },\n  blue: {\n    text: \"#1A237E\",\n    textSecondary: \"#5C6BC0\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#5C6BC0\",\n    tabIconSelected: \"#2196F3\",\n    link: \"#2196F3\",\n    primary: \"#2196F3\",\n    backgroundRoot: \"#E3F2FD\",\n    backgroundDefault: \"#FFFFFF\",\n    backgroundSecondary: \"#F5F5F5\",\n    backgroundTertiary: \"#E3F2FD\",\n    success: \"#4CAF50\",\n    warning: \"#FF9800\",\n    error: \"#F44336\",\n    border: \"#BBDEFB\",\n  },\n  lightPink: {\n    text: \"#880E4F\",\n    textSecondary: \"#AD1457\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#AD1457\",\n    tabIconSelected: \"#E91E63\",\n    link: \"#E91E63\",\n    primary: \"#E91E63\",\n    backgroundRoot: \"#FCE4EC\",\n    backgroundDefault: \"#FFFFFF\",\n    backgroundSecondary: \"#F8BBD0\",\n    backgroundTertiary: \"#FCE4EC\",\n    success: \"#4CAF50\",\n    warning: \"#FF9800\",\n    error: \"#F44336\",\n    border: \"#F48FB1\",\n  },\n  light: {\n    text: \"#000000\",\n    textSecondary: \"#666666\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#666666\",\n    tabIconSelected: \"#6200EE\",\n    link: \"#6200EE\",\n    primary: \"#6200EE\",\n    backgroundRoot: \"#FFFFFF\",\n    backgroundDefault: \"#F5F5F5\",\n    backgroundSecondary: \"#EEEEEE\",\n    backgroundTertiary: \"#E0E0E0\",\n    success: \"#4CAF50\",\n    warning: \"#FF9800\",\n    error: \"#F44336\",\n    border: \"#E0E0E0\",\n  },\n};\n\nexport const Spacing = {\n  xs: 4,\n  sm: 8,\n  md: 12,\n  lg: 16,\n  xl: 20,\n  \"2xl\": 24,\n  \"3xl\": 32,\n  \"4xl\": 40,\n  \"5xl\": 48,\n  inputHeight: 48,\n  buttonHeight: 52,\n};\n\nexport const BorderRadius = {\n  xs: 8,\n  sm: 12,\n  md: 18,\n  lg: 24,\n  xl: 30,\n  \"2xl\": 40,\n  \"3xl\": 50,\n  full: 9999,\n};\n\nexport const Typography = {\n  h1: {\n    fontSize: 32,\n    lineHeight: 40,\n    fontWeight: \"700\" as const,\n  },\n  h2: {\n    fontSize: 28,\n    lineHeight: 36,\n    fontWeight: \"700\" as const,\n  },\n  h3: {\n    fontSize: 24,\n    lineHeight: 32,\n    fontWeight: \"600\" as const,\n  },\n  h4: {\n    fontSize: 20,\n    lineHeight: 28,\n    fontWeight: \"600\" as const,\n  },\n  body: {\n    fontSize: 16,\n    lineHeight: 24,\n    fontWeight: \"400\" as const,\n  },\n  small: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontWeight: \"400\" as const,\n  },\n  link: {\n    fontSize: 16,\n    lineHeight: 24,\n    fontWeight: \"400\" as const,\n  },\n};\n\nexport const Fonts = Platform.select({\n  ios: {\n    /** iOS `UIFontDescriptorSystemDesignDefault` */\n    sans: \"system-ui\",\n    /** iOS `UIFontDescriptorSystemDesignSerif` */\n    serif: \"ui-serif\",\n    /** iOS `UIFontDescriptorSystemDesignRounded` */\n    rounded: \"ui-rounded\",\n    /** iOS `UIFontDescriptorSystemDesignMonospaced` */\n    mono: \"ui-monospace\",\n  },\n  default: {\n    sans: \"normal\",\n    serif: \"serif\",\n    rounded: \"normal\",\n    mono: \"monospace\",\n  },\n  web: {\n    sans: \"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif\",\n    serif: \"Georgia, 'Times New Roman', serif\",\n    rounded:\n      \"'SF Pro Rounded', 'Hiragino Maru Gothic ProN', Meiryo, 'MS PGothic', sans-serif\",\n    mono: \"SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace\",\n  },\n});\n","size_bytes":4069},"contexts/AchievementContext.tsx":{"content":"import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useAuth } from './AuthContext';\nimport { getSemesters } from '@/services/storageService';\nimport { calculateCGPA } from '@/utils/calculations';\nimport { notificationService } from '@/services/notificationService';\nimport * as Haptics from 'expo-haptics';\n\nexport interface Achievement {\n  id: string;\n  title: string;\n  description: string;\n  icon: string;\n  unlocked: boolean;\n  unlockedAt?: number;\n}\n\ninterface AchievementContextType {\n  achievements: Achievement[];\n  checkAchievements: () => Promise<void>;\n  showAchievement: (achievement: Achievement) => void;\n  currentAchievement: Achievement | null;\n  clearCurrentAchievement: () => void;\n}\n\nconst AchievementContext = createContext<AchievementContextType | undefined>(undefined);\n\nconst ACHIEVEMENT_DEFINITIONS: Omit<Achievement, 'unlocked' | 'unlockedAt'>[] = [\n  {\n    id: 'first_semester',\n    title: 'Getting Started',\n    description: 'Complete your first semester',\n    icon: 'award',\n  },\n  {\n    id: 'gpa_4_0',\n    title: 'Excellence',\n    description: 'Achieve a CGPA of 4.0 or higher',\n    icon: 'star',\n  },\n  {\n    id: 'gpa_4_5',\n    title: 'Outstanding',\n    description: 'Achieve a CGPA of 4.5 or higher',\n    icon: 'zap',\n  },\n  {\n    id: 'perfect_semester',\n    title: 'Perfect Semester',\n    description: 'Get a 5.0 GPA in a semester',\n    icon: 'trending-up',\n  },\n  {\n    id: 'five_semesters',\n    title: 'Consistency',\n    description: 'Complete 5 semesters',\n    icon: 'calendar',\n  },\n  {\n    id: 'ten_courses',\n    title: 'Dedicated Student',\n    description: 'Complete 10 courses',\n    icon: 'book',\n  },\n  {\n    id: 'improvement',\n    title: 'Rising Star',\n    description: 'Improve your GPA for 3 consecutive semesters',\n    icon: 'arrow-up',\n  },\n];\n\nexport function AchievementProvider({ children }: { children: ReactNode }) {\n  const { user } = useAuth();\n  const [achievements, setAchievements] = useState<Achievement[]>([]);\n  const [currentAchievement, setCurrentAchievement] = useState<Achievement | null>(null);\n\n  useEffect(() => {\n    loadAchievements();\n  }, [user]);\n\n  const loadAchievements = async () => {\n    const stored = await getStoredAchievements();\n    setAchievements(stored);\n  };\n\n  const getStoredAchievements = async (): Promise<Achievement[]> => {\n    if (!user) {\n      return ACHIEVEMENT_DEFINITIONS.map(def => ({\n        ...def,\n        unlocked: false,\n      }));\n    }\n\n    try {\n      const stored = await AsyncStorage.getItem(`achievements_${user.uid}`);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        return ACHIEVEMENT_DEFINITIONS.map(def => {\n          const savedAchievement = parsed.find((a: Achievement) => a.id === def.id);\n          return savedAchievement || { ...def, unlocked: false };\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load achievements:', error);\n    }\n\n    return ACHIEVEMENT_DEFINITIONS.map(def => ({\n      ...def,\n      unlocked: false,\n    }));\n  };\n\n  const saveAchievements = async (achievementsList: Achievement[]) => {\n    if (!user) return;\n    try {\n      await AsyncStorage.setItem(`achievements_${user.uid}`, JSON.stringify(achievementsList));\n    } catch (error) {\n      console.error('Failed to save achievements:', error);\n    }\n  };\n\n  const checkAchievements = async () => {\n    if (!user) return;\n\n    const semesters = await getSemesters(user.uid);\n    const pastSemesters = semesters.filter(s => s.type === 'past');\n    const cgpa = calculateCGPA(pastSemesters);\n    const totalCourses = pastSemesters.reduce((sum, s) => sum + s.courses.length, 0);\n\n    const newAchievements = [...achievements];\n    let hasNewAchievement = false;\n\n    if (pastSemesters.length >= 1 && !achievements.find(a => a.id === 'first_semester')?.unlocked) {\n      unlockAchievement('first_semester', newAchievements);\n      hasNewAchievement = true;\n    }\n\n    if (cgpa >= 4.0 && !achievements.find(a => a.id === 'gpa_4_0')?.unlocked) {\n      unlockAchievement('gpa_4_0', newAchievements);\n      hasNewAchievement = true;\n    }\n\n    if (cgpa >= 4.5 && !achievements.find(a => a.id === 'gpa_4_5')?.unlocked) {\n      unlockAchievement('gpa_4_5', newAchievements);\n      hasNewAchievement = true;\n    }\n\n    const perfectSemester = pastSemesters.find(s => s.gpa === 5.0);\n    if (perfectSemester && !achievements.find(a => a.id === 'perfect_semester')?.unlocked) {\n      unlockAchievement('perfect_semester', newAchievements);\n      hasNewAchievement = true;\n    }\n\n    if (pastSemesters.length >= 5 && !achievements.find(a => a.id === 'five_semesters')?.unlocked) {\n      unlockAchievement('five_semesters', newAchievements);\n      hasNewAchievement = true;\n    }\n\n    if (totalCourses >= 10 && !achievements.find(a => a.id === 'ten_courses')?.unlocked) {\n      unlockAchievement('ten_courses', newAchievements);\n      hasNewAchievement = true;\n    }\n\n    const sortedSemesters = pastSemesters.sort((a, b) => a.timestamp - b.timestamp);\n    if (sortedSemesters.length >= 3) {\n      const last3 = sortedSemesters.slice(-3);\n      const isImproving = last3.every((s, i) => i === 0 || s.gpa > last3[i - 1].gpa);\n      if (isImproving && !achievements.find(a => a.id === 'improvement')?.unlocked) {\n        unlockAchievement('improvement', newAchievements);\n        hasNewAchievement = true;\n      }\n    }\n\n    if (hasNewAchievement) {\n      setAchievements(newAchievements);\n      await saveAchievements(newAchievements);\n    }\n  };\n\n  const unlockAchievement = (id: string, achievementsList: Achievement[]) => {\n    const index = achievementsList.findIndex(a => a.id === id);\n    if (index !== -1) {\n      achievementsList[index] = {\n        ...achievementsList[index],\n        unlocked: true,\n        unlockedAt: Date.now(),\n      };\n      \n      const achievement = achievementsList[index];\n      showAchievement(achievement);\n      \n      Haptics.notificationAsync(Haptics.NotificationFeedbackType.Success);\n      \n      notificationService.sendImmediateNotification(\n        'Achievement Unlocked!',\n        `${achievement.title}: ${achievement.description}`\n      );\n    }\n  };\n\n  const showAchievement = (achievement: Achievement) => {\n    setCurrentAchievement(achievement);\n    setTimeout(() => {\n      setCurrentAchievement(null);\n    }, 5000);\n  };\n\n  const clearCurrentAchievement = () => {\n    setCurrentAchievement(null);\n  };\n\n  return (\n    <AchievementContext.Provider\n      value={{\n        achievements,\n        checkAchievements,\n        showAchievement,\n        currentAchievement,\n        clearCurrentAchievement,\n      }}\n    >\n      {children}\n    </AchievementContext.Provider>\n  );\n}\n\nexport function useAchievements() {\n  const context = useContext(AchievementContext);\n  if (context === undefined) {\n    throw new Error('useAchievements must be used within an AchievementProvider');\n  }\n  return context;\n}\n","size_bytes":6992},"screens/AboutScreen.tsx":{"content":"import React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { useTheme } from '@/hooks/useTheme';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function AboutScreen() {\n  const { theme } = useTheme();\n\n  return (\n    <ScreenScrollView style={{ backgroundColor: theme.backgroundRoot }}>\n      <View style={styles.container}>\n        <View style={styles.iconContainer}>\n          <Feather name=\"book-open\" size={80} color={theme.primary} />\n        </View>\n\n        <View style={[styles.card, { backgroundColor: theme.backgroundDefault }]}>\n          <ThemedText style={[styles.title, { color: theme.text }]}>Student Atlas</ThemedText>\n          <ThemedText style={[styles.version, { color: theme.textSecondary }]}>Version 1.0.0</ThemedText>\n        </View>\n\n        <View style={[styles.card, { backgroundColor: theme.backgroundDefault }]}>\n          <ThemedText style={[styles.sectionTitle, { color: theme.text }]}>About</ThemedText>\n          <ThemedText style={[styles.description, { color: theme.textSecondary }]}>\n            Student Atlas was an individual project by Kobi Oguadinma, a second-year Software Engineering student at Babcock University.\n          </ThemedText>\n          <ThemedText style={[styles.description, { color: theme.textSecondary }]}>\n            He frequently calculated his predicted grades manually and wanted a mobile app to automate this process, helping students track their academic journey with ease.\n          </ThemedText>\n        </View>\n\n        <View style={[styles.card, { backgroundColor: theme.backgroundDefault }]}>\n          <ThemedText style={[styles.sectionTitle, { color: theme.text }]}>Features</ThemedText>\n          <FeatureItem icon=\"folder\" text=\"Organize courses by semesters\" theme={theme} />\n          <FeatureItem icon=\"trending-up\" text=\"Track CA scores and predict grades\" theme={theme} />\n          <FeatureItem icon=\"bar-chart-2\" text=\"Calculate GPA and CGPA automatically\" theme={theme} />\n          <FeatureItem icon=\"eye\" text=\"Multiple theme options\" theme={theme} />\n          <FeatureItem icon=\"smartphone\" text=\"Offline support\" theme={theme} />\n        </View>\n      </View>\n    </ScreenScrollView>\n  );\n}\n\nfunction FeatureItem({ icon, text, theme }: any) {\n  return (\n    <View style={styles.featureItem}>\n      <Feather name={icon} size={20} color={theme.primary} />\n      <ThemedText style={{ color: theme.text }}>{text}</ThemedText>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.xl,\n    gap: Spacing.lg,\n  },\n  iconContainer: {\n    alignItems: 'center',\n    paddingVertical: Spacing['2xl'],\n  },\n  card: {\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.sm,\n    gap: Spacing.md,\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: '700',\n    textAlign: 'center',\n  },\n  version: {\n    fontSize: 14,\n    textAlign: 'center',\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n  },\n  description: {\n    fontSize: 16,\n    lineHeight: 24,\n  },\n  featureItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.md,\n  },\n});\n","size_bytes":3295},"navigation/SettingsStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { getCommonScreenOptions } from \"./screenOptions\";\n\nimport SettingsScreen from \"@/screens/SettingsScreen\";\nimport AccountScreen from \"@/screens/AccountScreen\";\nimport AboutScreen from \"@/screens/AboutScreen\";\nimport DataManagementScreen from \"@/screens/DataManagementScreen\";\n\nexport type SettingsStackParamList = {\n  Settings: undefined;\n  Account: undefined;\n  About: undefined;\n};\n\nconst Stack = createNativeStackNavigator<SettingsStackParamList>();\n\nexport default function SettingsStackNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Stack.Navigator screenOptions={getCommonScreenOptions({ theme, isDark })}>\n      <Stack.Screen\n        name=\"Settings\"\n        component={SettingsScreen}\n        options={{ title: \"Settings\" }}\n      />\n      <Stack.Screen\n        name=\"Account\"\n        component={AccountScreen}\n        options={{ title: \"Account\", headerTransparent: false }}\n      />\n      <Stack.Screen\n        name=\"About\"\n        component={AboutScreen}\n        options={{ title: \"About\", headerTransparent: false }}\n      />\n      <Stack.Screen\n        name=\"DataManagement\"\n        component={DataManagementScreen}\n        options={{ title: \"Data Management\", headerTransparent: false }}\n      />\n    </Stack.Navigator>\n  );\n}\n","size_bytes":1420},"services/storageService.ts":{"content":"import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Semester, Course, SemesterType } from '@/types';\nimport { calculateSemesterGPA } from '@/utils/calculations';\n\nconst SEMESTERS_KEY = '@semesters_';\n\nexport async function getSemesters(userId: string): Promise<Semester[]> {\n  try {\n    const data = await AsyncStorage.getItem(`${SEMESTERS_KEY}${userId}`);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.error('Failed to load semesters:', error);\n    return [];\n  }\n}\n\nexport async function saveSemesters(userId: string, semesters: Semester[]): Promise<void> {\n  try {\n    await AsyncStorage.setItem(`${SEMESTERS_KEY}${userId}`, JSON.stringify(semesters));\n  } catch (error) {\n    console.error('Failed to save semesters:', error);\n    throw error;\n  }\n}\n\nexport async function createSemester(\n  userId: string,\n  name: string,\n  type: SemesterType\n): Promise<Semester> {\n  const semesters = await getSemesters(userId);\n  \n  if (type === 'current') {\n    const existingCurrent = semesters.find(s => s.type === 'current');\n    if (existingCurrent) {\n      throw new Error('A current semester already exists. Please convert it to a past semester first.');\n    }\n  }\n\n  const newSemester: Semester = {\n    id: `sem_${Date.now()}`,\n    name,\n    type,\n    timestamp: Date.now(),\n    gpa: 0,\n    courses: [],\n  };\n\n  semesters.push(newSemester);\n  await saveSemesters(userId, semesters);\n  return newSemester;\n}\n\nexport async function updateSemester(\n  userId: string,\n  semesterId: string,\n  updates: Partial<Semester>\n): Promise<void> {\n  const semesters = await getSemesters(userId);\n  const index = semesters.findIndex(s => s.id === semesterId);\n  \n  if (index === -1) throw new Error('Semester not found');\n\n  semesters[index] = { ...semesters[index], ...updates };\n  \n  if (semesters[index].courses.length > 0) {\n    semesters[index].gpa = calculateSemesterGPA(semesters[index].courses);\n  }\n\n  await saveSemesters(userId, semesters);\n}\n\nexport async function deleteSemester(userId: string, semesterId: string): Promise<void> {\n  const semesters = await getSemesters(userId);\n  const filtered = semesters.filter(s => s.id !== semesterId);\n  await saveSemesters(userId, filtered);\n}\n\nexport async function addCourse(\n  userId: string,\n  semesterId: string,\n  course: Omit<Course, 'id'>\n): Promise<Course> {\n  const semesters = await getSemesters(userId);\n  const semester = semesters.find(s => s.id === semesterId);\n  \n  if (!semester) throw new Error('Semester not found');\n\n  const newCourse: Course = {\n    ...course,\n    id: `course_${Date.now()}`,\n  };\n\n  semester.courses.push(newCourse);\n  semester.gpa = calculateSemesterGPA(semester.courses);\n\n  await saveSemesters(userId, semesters);\n  return newCourse;\n}\n\nexport async function updateCourse(\n  userId: string,\n  semesterId: string,\n  courseId: string,\n  updates: Partial<Course>\n): Promise<void> {\n  const semesters = await getSemesters(userId);\n  const semester = semesters.find(s => s.id === semesterId);\n  \n  if (!semester) throw new Error('Semester not found');\n\n  const courseIndex = semester.courses.findIndex(c => c.id === courseId);\n  if (courseIndex === -1) throw new Error('Course not found');\n\n  semester.courses[courseIndex] = { ...semester.courses[courseIndex], ...updates };\n  semester.gpa = calculateSemesterGPA(semester.courses);\n\n  const allCoursesHaveFinalScores = semester.courses.every(c => c.finalScore !== undefined);\n  if (semester.type === 'current' && allCoursesHaveFinalScores && semester.courses.length > 0) {\n    semester.type = 'past';\n  }\n\n  await saveSemesters(userId, semesters);\n}\n\nexport async function deleteCourse(\n  userId: string,\n  semesterId: string,\n  courseId: string\n): Promise<void> {\n  const semesters = await getSemesters(userId);\n  const semester = semesters.find(s => s.id === semesterId);\n  \n  if (!semester) throw new Error('Semester not found');\n\n  semester.courses = semester.courses.filter(c => c.id !== courseId);\n  semester.gpa = calculateSemesterGPA(semester.courses);\n\n  await saveSemesters(userId, semesters);\n}\n\nexport async function deleteSemesters(userId: string): Promise<void> {\n  try {\n    await AsyncStorage.removeItem(`${SEMESTERS_KEY}${userId}`);\n  } catch (error) {\n    console.error('Failed to delete semesters:', error);\n    throw error;\n  }\n}\n\nexport const storageService = {\n  getSemesters,\n  saveSemesters,\n  createSemester,\n  updateSemester,\n  deleteSemester,\n  addCourse,\n  updateCourse,\n  deleteCourse,\n  deleteSemesters,\n};\n","size_bytes":4516},"screens/SettingsScreen.tsx":{"content":"import React from 'react';\nimport { View, StyleSheet, Pressable } from 'react-native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useThemeContext } from '@/contexts/ThemeContext';\nimport { Spacing, BorderRadius, ThemeName, Colors } from '@/constants/theme';\nimport { Feather } from '@expo/vector-icons';\n\nconst THEMES: { name: ThemeName; label: string; preview: string }[] = [\n  { name: 'defaultDark', label: 'Default Dark', preview: Colors.defaultDark.primary },\n  { name: 'dark', label: 'Dark', preview: Colors.dark.primary },\n  { name: 'blue', label: 'Blue', preview: Colors.blue.primary },\n  { name: 'lightPink', label: 'Light Pink', preview: Colors.lightPink.primary },\n  { name: 'light', label: 'Light', preview: Colors.light.primary },\n];\n\nexport default function SettingsScreen({ navigation }: any) {\n  const { theme } = useTheme();\n  const { theme: currentTheme, setTheme } = useThemeContext();\n\n  return (\n    <ScreenScrollView style={{ backgroundColor: theme.backgroundRoot }}>\n      <View style={styles.container}>\n        <View style={styles.section}>\n          <ThemedText style={[styles.sectionTitle, { color: theme.textSecondary }]}>Appearance</ThemedText>\n          <View style={styles.themesGrid}>\n            {THEMES.map(themeOption => (\n              <Pressable\n                key={themeOption.name}\n                style={[\n                  styles.themeChip,\n                  currentTheme === themeOption.name && { borderColor: theme.primary, borderWidth: 3 }\n                ]}\n                onPress={() => setTheme(themeOption.name)}\n              >\n                <View style={[styles.themePreview, { backgroundColor: themeOption.preview }]} />\n                <ThemedText style={[styles.themeLabel, { color: theme.text }]}>{themeOption.label}</ThemedText>\n              </Pressable>\n            ))}\n          </View>\n        </View>\n\n        <View style={styles.section}>\n          <ThemedText style={[styles.sectionTitle, { color: theme.textSecondary }]}>Data</ThemedText>\n          <SettingsItem\n            icon=\"download\"\n            label=\"Export & Backup\"\n            theme={theme}\n            onPress={() => navigation.navigate('DataManagement')}\n          />\n        </View>\n\n        <View style={styles.section}>\n          <ThemedText style={[styles.sectionTitle, { color: theme.textSecondary }]}>Account</ThemedText>\n          <SettingsItem\n            icon=\"user\"\n            label=\"Account Settings\"\n            theme={theme}\n            onPress={() => navigation.navigate('Account')}\n          />\n        </View>\n\n        <View style={styles.section}>\n          <ThemedText style={[styles.sectionTitle, { color: theme.textSecondary }]}>About</ThemedText>\n          <SettingsItem\n            icon=\"info\"\n            label=\"About Student Atlas\"\n            theme={theme}\n            onPress={() => navigation.navigate('About')}\n          />\n        </View>\n      </View>\n    </ScreenScrollView>\n  );\n}\n\nfunction SettingsItem({ icon, label, theme, onPress }: any) {\n  return (\n    <Pressable\n      style={[styles.settingsItem, { backgroundColor: theme.backgroundDefault }]}\n      onPress={onPress}\n    >\n      <View style={styles.settingsItemContent}>\n        <Feather name={icon} size={20} color={theme.text} />\n        <ThemedText style={[styles.settingsItemLabel, { color: theme.text }]}>{label}</ThemedText>\n      </View>\n      <Feather name=\"chevron-right\" size={20} color={theme.textSecondary} />\n    </Pressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.xl,\n    gap: Spacing['3xl'],\n  },\n  section: {\n    gap: Spacing.md,\n  },\n  sectionTitle: {\n    fontSize: 14,\n    fontWeight: '600',\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n  },\n  themesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: Spacing.md,\n  },\n  themeChip: {\n    alignItems: 'center',\n    gap: Spacing.sm,\n    padding: Spacing.sm,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 2,\n    borderColor: 'transparent',\n    width: 100,\n  },\n  themePreview: {\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n  },\n  themeLabel: {\n    fontSize: 12,\n    fontWeight: '600',\n    textAlign: 'center',\n  },\n  settingsItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n  },\n  settingsItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.md,\n  },\n  settingsItemLabel: {\n    fontSize: 16,\n  },\n});\n","size_bytes":4637},"hooks/useScreenInsets.ts":{"content":"import { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\n\nimport { Spacing } from \"@/constants/theme\";\n\nexport function useScreenInsets() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n\n  return {\n    paddingTop: headerHeight + Spacing.xl,\n    paddingBottom: tabBarHeight + Spacing.xl,\n    scrollInsetBottom: insets.bottom + 16,\n  };\n}\n","size_bytes":563},"navigation/SemestersStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { getCommonScreenOptions } from \"./screenOptions\";\n\nimport SemestersScreen from \"@/screens/SemestersScreen\";\nimport SemesterDetailScreen from \"@/screens/SemesterDetailScreen\";\nimport CourseDetailScreen from \"@/screens/CourseDetailScreen\";\nimport AddSemesterScreen from \"@/screens/AddSemesterScreen\";\nimport AddCourseScreen from \"@/screens/AddCourseScreen\";\n\nexport type SemestersStackParamList = {\n  Semesters: undefined;\n  SemesterDetail: { semesterId: string };\n  CourseDetail: { semesterId: string; courseId: string };\n  AddSemester: undefined;\n  AddCourse: { semesterId: string };\n};\n\nconst Stack = createNativeStackNavigator<SemestersStackParamList>();\n\nexport default function SemestersStackNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Stack.Navigator screenOptions={getCommonScreenOptions({ theme, isDark })}>\n      <Stack.Screen\n        name=\"Semesters\"\n        component={SemestersScreen}\n        options={{ title: \"Student Atlas\" }}\n      />\n      <Stack.Group screenOptions={{ presentation: \"modal\" }}>\n        <Stack.Screen\n          name=\"SemesterDetail\"\n          component={SemesterDetailScreen}\n          options={{ headerTransparent: false }}\n        />\n        <Stack.Screen\n          name=\"CourseDetail\"\n          component={CourseDetailScreen}\n          options={{ headerTransparent: false }}\n        />\n        <Stack.Screen\n          name=\"AddSemester\"\n          component={AddSemesterScreen}\n          options={{ title: \"New Semester\", headerTransparent: false }}\n        />\n        <Stack.Screen\n          name=\"AddCourse\"\n          component={AddCourseScreen}\n          options={{ title: \"Add Course\", headerTransparent: false }}\n        />\n      </Stack.Group>\n    </Stack.Navigator>\n  );\n}\n","size_bytes":1899},"navigation/GPAStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { getCommonScreenOptions } from \"./screenOptions\";\n\nimport GPAScreen from \"@/screens/GPAScreen\";\nimport AnalyticsDashboardScreen from \"@/screens/AnalyticsDashboardScreen\";\n\nexport type GPAStackParamList = {\n  GPA: undefined;\n};\n\nconst Stack = createNativeStackNavigator<GPAStackParamList>();\n\nexport default function GPAStackNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Stack.Navigator screenOptions={getCommonScreenOptions({ theme, isDark })}>\n      <Stack.Screen\n        name=\"GPA\"\n        component={GPAScreen}\n        options={{ title: \"My GPA\" }}\n      />\n      <Stack.Screen\n        name=\"AnalyticsDashboard\"\n        component={AnalyticsDashboardScreen}\n        options={{ title: \"Analytics Dashboard\" }}\n      />\n    </Stack.Navigator>\n  );\n}\n","size_bytes":932},"navigation/AuthNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { getCommonScreenOptions } from \"./screenOptions\";\n\nimport LoginScreen from \"@/screens/LoginScreen\";\nimport SignupScreen from \"@/screens/SignupScreen\";\n\nexport type AuthStackParamList = {\n  Login: undefined;\n  Signup: undefined;\n};\n\nconst Stack = createNativeStackNavigator<AuthStackParamList>();\n\nexport default function AuthNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Stack.Navigator screenOptions={{ ...getCommonScreenOptions({ theme, isDark }), headerShown: false }}>\n      <Stack.Screen name=\"Login\" component={LoginScreen} />\n      <Stack.Screen name=\"Signup\" component={SignupScreen} />\n    </Stack.Navigator>\n  );\n}\n","size_bytes":807},"screens/SemesterDetailScreen.tsx":{"content":"import React, { useState, useCallback } from 'react';\nimport { View, StyleSheet, Pressable, Alert } from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { Button } from '@/components/Button';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useAchievements } from '@/contexts/AchievementContext';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { Feather } from '@expo/vector-icons';\nimport { getSemesters, deleteSemester } from '@/services/storageService';\nimport { Semester, Course } from '@/types';\nimport { getGradeColor, scoreToGrade, calculateCATotal } from '@/utils/calculations';\nimport { useScreenInsets } from '@/hooks/useScreenInsets';\n\nexport default function SemesterDetailScreen({ route, navigation }: any) {\n  const { semesterId } = route.params;\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const { checkAchievements } = useAchievements();\n  const { paddingBottom } = useScreenInsets();\n  const [semester, setSemester] = useState<Semester | null>(null);\n\n  useFocusEffect(\n    useCallback(() => {\n      loadSemester();\n      checkAchievements();\n    }, [semesterId, user])\n  );\n\n  const loadSemester = async () => {\n    if (!user) return;\n    const semesters = await getSemesters(user.uid);\n    const found = semesters.find(s => s.id === semesterId);\n    if (found) {\n      setSemester(found);\n      navigation.setOptions({ title: found.name });\n    }\n  };\n\n  const handleDelete = () => {\n    Alert.alert(\n      'Delete Semester',\n      'Are you sure you want to delete this semester? This action cannot be undone.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Delete',\n          style: 'destructive',\n          onPress: async () => {\n            if (!user) return;\n            try {\n              await deleteSemester(user.uid, semesterId);\n              navigation.goBack();\n            } catch (error) {\n              Alert.alert('Error', 'Failed to delete semester');\n            }\n          },\n        },\n      ]\n    );\n  };\n\n  if (!semester) return null;\n\n  const totalUnits = semester.courses.reduce((sum, c) => sum + c.unitHours, 0);\n\n  return (\n    <>\n      <ScreenScrollView style={{ backgroundColor: theme.backgroundRoot }} contentContainerStyle={{ paddingBottom }}>\n        <View style={styles.container}>\n          <View style={[styles.statsCard, { backgroundColor: theme.backgroundDefault }]}>\n            <View style={styles.statRow}>\n              <View style={styles.stat}>\n                <ThemedText style={[styles.statLabel, { color: theme.textSecondary }]}>GPA</ThemedText>\n                <ThemedText style={[styles.statValue, { color: theme.primary }]}>\n                  {semester.gpa.toFixed(2)}\n                </ThemedText>\n              </View>\n              <View style={styles.stat}>\n                <ThemedText style={[styles.statLabel, { color: theme.textSecondary }]}>Total Units</ThemedText>\n                <ThemedText style={[styles.statValue, { color: theme.text }]}>{totalUnits}</ThemedText>\n              </View>\n              <View style={styles.stat}>\n                <ThemedText style={[styles.statLabel, { color: theme.textSecondary }]}>Courses</ThemedText>\n                <ThemedText style={[styles.statValue, { color: theme.text }]}>{semester.courses.length}</ThemedText>\n              </View>\n            </View>\n          </View>\n\n          <View style={styles.section}>\n            <ThemedText style={[styles.sectionTitle, { color: theme.text }]}>Courses</ThemedText>\n            {semester.courses.length > 0 ? (\n              semester.courses.map(course => (\n                <CourseCard\n                  key={course.id}\n                  course={course}\n                  semesterType={semester.type}\n                  theme={theme}\n                  onPress={() => navigation.navigate('CourseDetail', { semesterId, courseId: course.id })}\n                />\n              ))\n            ) : (\n              <View style={[styles.emptyState, { backgroundColor: theme.backgroundDefault }]}>\n                <Feather name=\"file-text\" size={48} color={theme.textSecondary} />\n                <ThemedText style={[styles.emptyText, { color: theme.textSecondary }]}>\n                  No courses yet\n                </ThemedText>\n              </View>\n            )}\n          </View>\n\n          <Button\n            label=\"Delete Semester\"\n            onPress={handleDelete}\n            variant=\"destructive\"\n          />\n        </View>\n      </ScreenScrollView>\n\n      <Pressable\n        style={[styles.fab, { backgroundColor: theme.primary, bottom: paddingBottom }]}\n        onPress={() => navigation.navigate('AddCourse', { semesterId })}\n      >\n        <Feather name=\"plus\" size={24} color=\"#FFFFFF\" />\n      </Pressable>\n    </>\n  );\n}\n\nfunction CourseCard({ course, semesterType, theme, onPress }: any) {\n  const grade = course.finalScore !== undefined ? scoreToGrade(course.finalScore) : null;\n  const caTotal = calculateCATotal(course.caScores);\n\n  return (\n    <Pressable\n      style={[styles.courseCard, { backgroundColor: theme.backgroundDefault, borderColor: theme.border }]}\n      onPress={onPress}\n    >\n      <View style={[styles.accentBar, { backgroundColor: grade ? getGradeColor(grade, theme) : theme.primary }]} />\n      <View style={styles.courseContent}>\n        <View style={styles.courseHeader}>\n          <View style={{ flex: 1 }}>\n            <ThemedText style={[styles.courseName, { color: theme.text }]}>{course.name}</ThemedText>\n            <ThemedText style={[styles.courseCode, { color: theme.textSecondary }]}>{course.code}</ThemedText>\n          </View>\n          {grade ? (\n            <View style={[styles.gradeChip, { backgroundColor: getGradeColor(grade, theme) }]}>\n              <ThemedText style={styles.gradeText}>{grade}</ThemedText>\n            </View>\n          ) : null}\n        </View>\n        <View style={styles.courseFooter}>\n          <ThemedText style={{ color: theme.textSecondary, fontSize: 14 }}>\n            {course.unitHours} {course.unitHours === 1 ? 'unit' : 'units'}\n          </ThemedText>\n          {semesterType === 'current' && !course.finalScore ? (\n            <ThemedText style={{ color: theme.textSecondary, fontSize: 14 }}>\n              CA: {caTotal}/60\n            </ThemedText>\n          ) : null}\n        </View>\n      </View>\n    </Pressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.xl,\n    gap: Spacing['2xl'],\n  },\n  statsCard: {\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.sm,\n  },\n  statRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n  },\n  stat: {\n    alignItems: 'center',\n    gap: Spacing.xs,\n  },\n  statLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  statValue: {\n    fontSize: 24,\n    fontWeight: '700',\n  },\n  section: {\n    gap: Spacing.md,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n  },\n  courseCard: {\n    flexDirection: 'row',\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n    overflow: 'hidden',\n    marginBottom: Spacing.md,\n  },\n  accentBar: {\n    width: 4,\n  },\n  courseContent: {\n    flex: 1,\n    padding: Spacing.lg,\n    gap: Spacing.sm,\n  },\n  courseHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  courseName: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  courseCode: {\n    fontSize: 14,\n  },\n  gradeChip: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  gradeText: {\n    color: '#FFFFFF',\n    fontSize: 18,\n    fontWeight: '700',\n  },\n  courseFooter: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  emptyState: {\n    padding: Spacing['4xl'],\n    borderRadius: BorderRadius.sm,\n    alignItems: 'center',\n    gap: Spacing.md,\n  },\n  emptyText: {\n    fontSize: 16,\n  },\n  fab: {\n    position: 'absolute',\n    right: Spacing.xl,\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 4,\n  },\n});\n","size_bytes":8385},"services/notificationService.ts":{"content":"import * as Notifications from 'expo-notifications';\nimport { Platform } from 'react-native';\nimport { Course } from '@/types';\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => ({\n    shouldShowAlert: true,\n    shouldPlaySound: true,\n    shouldSetBadge: true,\n  }),\n});\n\nexport class NotificationService {\n  async requestPermissions(): Promise<boolean> {\n    const { status: existingStatus } = await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    \n    if (existingStatus !== 'granted') {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    \n    return finalStatus === 'granted';\n  }\n\n  async scheduleCADeadlineNotification(\n    course: Course,\n    deadline: Date,\n    notificationId?: string\n  ): Promise<string> {\n    const hasPermission = await this.requestPermissions();\n    if (!hasPermission) {\n      throw new Error('Notification permissions not granted');\n    }\n\n    if (notificationId) {\n      await Notifications.cancelScheduledNotificationAsync(notificationId);\n    }\n\n    const oneDayBefore = new Date(deadline);\n    oneDayBefore.setDate(oneDayBefore.getDate() - 1);\n\n    const now = new Date();\n    if (oneDayBefore <= now) {\n      throw new Error('Deadline is too soon to schedule notification');\n    }\n\n    const identifier = await Notifications.scheduleNotificationAsync({\n      content: {\n        title: 'CA Deadline Reminder',\n        body: `${course.code}: ${course.title} - CA deadline tomorrow!`,\n        data: { courseId: course.id, type: 'ca_deadline' },\n      },\n      trigger: {\n        date: oneDayBefore,\n      },\n    });\n\n    return identifier;\n  }\n\n  async cancelNotification(notificationId: string): Promise<void> {\n    await Notifications.cancelScheduledNotificationAsync(notificationId);\n  }\n\n  async cancelAllNotifications(): Promise<void> {\n    await Notifications.cancelAllScheduledNotificationsAsync();\n  }\n\n  async getScheduledNotifications() {\n    return await Notifications.getAllScheduledNotificationsAsync();\n  }\n\n  async sendImmediateNotification(title: string, body: string, data?: any): Promise<void> {\n    await Notifications.scheduleNotificationAsync({\n      content: {\n        title,\n        body,\n        data,\n      },\n      trigger: null,\n    });\n  }\n}\n\nexport const notificationService = new NotificationService();\n","size_bytes":2380},"contexts/ThemeContext.tsx":{"content":"import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { ThemeName } from '@/constants/theme';\n\ninterface ThemeContextType {\n  theme: ThemeName;\n  setTheme: (theme: ThemeName) => Promise<void>;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nconst THEME_STORAGE_KEY = '@student_atlas_theme';\n\nexport function ThemeProvider({ children }: { children: ReactNode }) {\n  const [theme, setThemeState] = useState<ThemeName>('defaultDark');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    loadTheme();\n  }, []);\n\n  const loadTheme = async () => {\n    try {\n      const savedTheme = await AsyncStorage.getItem(THEME_STORAGE_KEY);\n      if (savedTheme && isValidTheme(savedTheme)) {\n        setThemeState(savedTheme as ThemeName);\n      }\n    } catch (error) {\n      console.error('Failed to load theme:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const setTheme = async (newTheme: ThemeName) => {\n    try {\n      await AsyncStorage.setItem(THEME_STORAGE_KEY, newTheme);\n      setThemeState(newTheme);\n    } catch (error) {\n      console.error('Failed to save theme:', error);\n    }\n  };\n\n  const isValidTheme = (value: string): boolean => {\n    return ['defaultDark', 'dark', 'blue', 'lightPink', 'light'].includes(value);\n  };\n\n  if (isLoading) {\n    return null;\n  }\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useThemeContext() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error('useThemeContext must be used within a ThemeProvider');\n  }\n  return context;\n}\n","size_bytes":1790},"screens/AddSemesterScreen.tsx":{"content":"import React, { useState } from 'react';\nimport { View, StyleSheet, TextInput, Alert, Pressable } from 'react-native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ThemedView } from '@/components/ThemedView';\nimport { Button } from '@/components/Button';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { createSemester } from '@/services/storageService';\nimport { SemesterType } from '@/types';\n\nexport default function AddSemesterScreen({ navigation }: any) {\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const insets = useSafeAreaInsets();\n  const [name, setName] = useState('');\n  const [type, setType] = useState<SemesterType>('current');\n  const [loading, setLoading] = useState(false);\n\n  const handleCreate = async () => {\n    if (!name.trim()) {\n      Alert.alert('Error', 'Please enter a semester name');\n      return;\n    }\n\n    if (!user) return;\n\n    setLoading(true);\n    try {\n      await createSemester(user.uid, name.trim(), type);\n      navigation.goBack();\n    } catch (error: any) {\n      Alert.alert('Error', error.message || 'Failed to create semester');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <ThemedView style={[styles.container, { paddingTop: Spacing.xl, paddingBottom: insets.bottom + Spacing.xl }]}>\n      <View style={styles.content}>\n        <View style={styles.form}>\n          <View style={styles.field}>\n            <ThemedText style={[styles.label, { color: theme.text }]}>Semester Name</ThemedText>\n            <TextInput\n              style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n              placeholder=\"e.g., 200 Level 1st Semester\"\n              placeholderTextColor={theme.textSecondary}\n              value={name}\n              onChangeText={setName}\n            />\n          </View>\n\n          <View style={styles.field}>\n            <ThemedText style={[styles.label, { color: theme.text }]}>Semester Type</ThemedText>\n            <View style={styles.typeSelector}>\n              <Pressable\n                style={[\n                  styles.typeOption,\n                  { borderColor: theme.border },\n                  type === 'past' && { backgroundColor: theme.primary, borderColor: theme.primary }\n                ]}\n                onPress={() => setType('past')}\n              >\n                <ThemedText style={[styles.typeText, { color: type === 'past' ? '#FFFFFF' : theme.text }]}>\n                  Past\n                </ThemedText>\n              </Pressable>\n              <Pressable\n                style={[\n                  styles.typeOption,\n                  { borderColor: theme.border },\n                  type === 'current' && { backgroundColor: theme.primary, borderColor: theme.primary }\n                ]}\n                onPress={() => setType('current')}\n              >\n                <ThemedText style={[styles.typeText, { color: type === 'current' ? '#FFFFFF' : theme.text }]}>\n                  Current\n                </ThemedText>\n              </Pressable>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.actions}>\n          <Button\n            label=\"Cancel\"\n            onPress={() => navigation.goBack()}\n            variant=\"secondary\"\n          />\n          <Button\n            label={loading ? 'Creating...' : 'Create Semester'}\n            onPress={handleCreate}\n            disabled={loading}\n          />\n        </View>\n      </View>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n    padding: Spacing.xl,\n    justifyContent: 'space-between',\n  },\n  form: {\n    gap: Spacing['2xl'],\n  },\n  field: {\n    gap: Spacing.sm,\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  typeSelector: {\n    flexDirection: 'row',\n    gap: Spacing.md,\n  },\n  typeOption: {\n    flex: 1,\n    height: Spacing.inputHeight,\n    borderWidth: 2,\n    borderRadius: BorderRadius.xs,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  typeText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  actions: {\n    gap: Spacing.md,\n  },\n});\n","size_bytes":4503},"components/ThemedView.tsx":{"content":"import { View, type ViewProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type ThemedViewProps = ViewProps & {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport function ThemedView({\n  style,\n  lightColor,\n  darkColor,\n  ...otherProps\n}: ThemedViewProps) {\n  const { theme, isDark } = useTheme();\n\n  const backgroundColor =\n    isDark && darkColor\n      ? darkColor\n      : !isDark && lightColor\n        ? lightColor\n        : theme.backgroundRoot;\n\n  return <View style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","size_bytes":563},"components/ScreenScrollView.tsx":{"content":"import { ScrollView, ScrollViewProps, StyleSheet } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useScreenInsets } from \"@/hooks/useScreenInsets\";\nimport { Spacing } from \"@/constants/theme\";\n\nexport function ScreenScrollView({\n  children,\n  contentContainerStyle,\n  style,\n  ...scrollViewProps\n}: ScrollViewProps) {\n  const { theme } = useTheme();\n  const { paddingTop, paddingBottom, scrollInsetBottom } = useScreenInsets();\n\n  return (\n    <ScrollView\n      style={[\n        styles.container,\n        { backgroundColor: theme.backgroundRoot },\n        style,\n      ]}\n      contentContainerStyle={[\n        {\n          paddingTop,\n          paddingBottom,\n        },\n        styles.contentContainer,\n        contentContainerStyle,\n      ]}\n      scrollIndicatorInsets={{ bottom: scrollInsetBottom }}\n      {...scrollViewProps}\n    >\n      {children}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingHorizontal: Spacing.xl,\n  },\n});\n","size_bytes":1043},"components/Card.tsx":{"content":"import React from \"react\";\nimport { StyleSheet, Pressable } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ninterface CardProps {\n  elevation: number;\n  onPress?: () => void;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst getBackgroundColorForElevation = (\n  elevation: number,\n  theme: any,\n): string => {\n  switch (elevation) {\n    case 1:\n      return theme.backgroundDefault;\n    case 2:\n      return theme.backgroundSecondary;\n    case 3:\n      return theme.backgroundTertiary;\n    default:\n      return theme.backgroundRoot;\n  }\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Card({ elevation, onPress }: CardProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const cardBackgroundColor = getBackgroundColorForElevation(elevation, theme);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.98, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      style={[\n        styles.card,\n        {\n          backgroundColor: cardBackgroundColor,\n        },\n        animatedStyle,\n      ]}\n    >\n      <ThemedText type=\"h4\" style={styles.cardTitle}>\n        Card - Elevation {elevation}\n      </ThemedText>\n      <ThemedText type=\"small\" style={styles.cardDescription}>\n        This card has an elevation of {elevation}\n      </ThemedText>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  card: {\n    padding: Spacing.xl,\n    borderRadius: BorderRadius[\"2xl\"],\n  },\n  cardTitle: {\n    marginBottom: Spacing.sm,\n  },\n  cardDescription: {\n    opacity: 0.7,\n  },\n});\n","size_bytes":2211},"screens/SemestersScreen.tsx":{"content":"import React, { useState, useCallback } from 'react';\nimport { View, StyleSheet, Pressable, Alert } from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { Feather } from '@expo/vector-icons';\nimport { getSemesters } from '@/services/storageService';\nimport { Semester } from '@/types';\nimport { useScreenInsets } from '@/hooks/useScreenInsets';\n\nexport default function SemestersScreen({ navigation }: any) {\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const { paddingBottom } = useScreenInsets();\n  const [semesters, setSemesters] = useState<Semester[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useFocusEffect(\n    useCallback(() => {\n      loadSemesters();\n    }, [user])\n  );\n\n  const loadSemesters = async () => {\n    if (!user) return;\n    try {\n      const data = await getSemesters(user.uid);\n      setSemesters(data);\n    } catch (error) {\n      Alert.alert('Error', 'Failed to load semesters');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const currentSemester = semesters.find(s => s.type === 'current');\n  const pastSemesters = semesters.filter(s => s.type === 'past').sort((a, b) => b.timestamp - a.timestamp);\n\n  return (\n    <ScreenScrollView style={{ backgroundColor: theme.backgroundRoot }} contentContainerStyle={{ paddingBottom }}>\n      {currentSemester ? (\n        <View style={styles.section}>\n          <ThemedText style={[styles.sectionTitle, { color: theme.textSecondary }]}>Current Semester</ThemedText>\n          <SemesterCard semester={currentSemester} theme={theme} onPress={() => navigation.navigate('SemesterDetail', { semesterId: currentSemester.id })} />\n        </View>\n      ) : null}\n\n      <View style={styles.section}>\n        <ThemedText style={[styles.sectionTitle, { color: theme.textSecondary }]}>Past Semesters</ThemedText>\n        {pastSemesters.length > 0 ? (\n          pastSemesters.map(semester => (\n            <SemesterCard\n              key={semester.id}\n              semester={semester}\n              theme={theme}\n              onPress={() => navigation.navigate('SemesterDetail', { semesterId: semester.id })}\n            />\n          ))\n        ) : (\n          <View style={[styles.emptyState, { backgroundColor: theme.backgroundDefault }]}>\n            <Feather name=\"book\" size={48} color={theme.textSecondary} />\n            <ThemedText style={[styles.emptyText, { color: theme.textSecondary }]}>\n              No past semesters yet\n            </ThemedText>\n          </View>\n        )}\n      </View>\n\n      <Pressable\n        style={[styles.fab, { backgroundColor: theme.primary, bottom: paddingBottom }]}\n        onPress={() => navigation.navigate('AddSemester')}\n      >\n        <Feather name=\"plus\" size={24} color=\"#FFFFFF\" />\n      </Pressable>\n    </ScreenScrollView>\n  );\n}\n\nfunction SemesterCard({ semester, theme, onPress }: { semester: Semester; theme: any; onPress: () => void }) {\n  return (\n    <Pressable\n      style={[styles.card, { backgroundColor: theme.backgroundDefault, borderColor: theme.border }]}\n      onPress={onPress}\n    >\n      <View style={styles.cardContent}>\n        <View style={styles.cardHeader}>\n          <ThemedText style={[styles.cardTitle, { color: theme.text }]}>{semester.name}</ThemedText>\n          {semester.type === 'current' ? (\n            <View style={[styles.badge, { backgroundColor: theme.primary }]}>\n              <ThemedText style={styles.badgeText}>Current</ThemedText>\n            </View>\n          ) : null}\n        </View>\n        <View style={styles.cardStats}>\n          <ThemedText style={{ color: theme.textSecondary }}>\n            {semester.courses.length} {semester.courses.length === 1 ? 'course' : 'courses'}\n          </ThemedText>\n          <View style={styles.gpaContainer}>\n            <ThemedText style={[styles.gpaLabel, { color: theme.textSecondary }]}>GPA</ThemedText>\n            <ThemedText style={[styles.gpaValue, { color: theme.primary }]}>\n              {semester.gpa.toFixed(2)}\n            </ThemedText>\n          </View>\n        </View>\n      </View>\n      <Feather name=\"chevron-right\" size={20} color={theme.textSecondary} />\n    </Pressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  section: {\n    padding: Spacing.xl,\n    gap: Spacing.md,\n  },\n  sectionTitle: {\n    fontSize: 14,\n    fontWeight: '600',\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n  },\n  card: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.sm,\n    borderWidth: 1,\n    marginBottom: Spacing.md,\n  },\n  cardContent: {\n    flex: 1,\n    gap: Spacing.sm,\n  },\n  cardHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  cardTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n  },\n  badge: {\n    paddingHorizontal: Spacing.sm,\n    paddingVertical: 2,\n    borderRadius: 4,\n  },\n  badgeText: {\n    color: '#FFFFFF',\n    fontSize: 12,\n    fontWeight: '600',\n  },\n  cardStats: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  gpaContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  gpaLabel: {\n    fontSize: 14,\n  },\n  gpaValue: {\n    fontSize: 20,\n    fontWeight: '700',\n  },\n  emptyState: {\n    padding: Spacing['4xl'],\n    borderRadius: BorderRadius.sm,\n    alignItems: 'center',\n    gap: Spacing.md,\n  },\n  emptyText: {\n    fontSize: 16,\n  },\n  fab: {\n    position: 'absolute',\n    right: Spacing.xl,\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 4,\n  },\n});\n","size_bytes":6015},"navigation/MainTabNavigator.tsx":{"content":"import React from \"react\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { BlurView } from \"expo-blur\";\nimport { Platform, StyleSheet } from \"react-native\";\nimport SemestersStackNavigator from \"@/navigation/SemestersStackNavigator\";\nimport GPAStackNavigator from \"@/navigation/GPAStackNavigator\";\nimport SettingsStackNavigator from \"@/navigation/SettingsStackNavigator\";\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type MainTabParamList = {\n  SemestersTab: undefined;\n  GPATab: undefined;\n  SettingsTab: undefined;\n};\n\nconst Tab = createBottomTabNavigator<MainTabParamList>();\n\nexport default function MainTabNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Tab.Navigator\n      initialRouteName=\"SemestersTab\"\n      screenOptions={{\n        tabBarActiveTintColor: theme.tabIconSelected,\n        tabBarInactiveTintColor: theme.tabIconDefault,\n        tabBarStyle: {\n          position: \"absolute\",\n          backgroundColor: Platform.select({\n            ios: \"transparent\",\n            android: theme.backgroundRoot,\n          }),\n          borderTopWidth: 0,\n          elevation: 0,\n        },\n        tabBarBackground: () =>\n          Platform.OS === \"ios\" ? (\n            <BlurView\n              intensity={100}\n              tint={isDark ? \"dark\" : \"light\"}\n              style={StyleSheet.absoluteFill}\n            />\n          ) : null,\n        headerShown: false,\n      }}\n    >\n      <Tab.Screen\n        name=\"SemestersTab\"\n        component={SemestersStackNavigator}\n        options={{\n          title: \"Semesters\",\n          tabBarIcon: ({ color, size }) => (\n            <Feather name=\"book\" size={size} color={color} />\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"GPATab\"\n        component={GPAStackNavigator}\n        options={{\n          title: \"GPA\",\n          tabBarIcon: ({ color, size }) => (\n            <Feather name=\"bar-chart-2\" size={size} color={color} />\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"SettingsTab\"\n        component={SettingsStackNavigator}\n        options={{\n          title: \"Settings\",\n          tabBarIcon: ({ color, size }) => (\n            <Feather name=\"settings\" size={size} color={color} />\n          ),\n        }}\n      />\n    </Tab.Navigator>\n  );\n}\n","size_bytes":2353},"types/index.ts":{"content":"export type TargetGrade = 'A' | 'B' | 'C';\nexport type Grade = 'A' | 'B' | 'C' | 'D' | 'E' | 'F';\nexport type SemesterType = 'past' | 'current';\n\nexport interface CAScores {\n  midterm: number;\n  assignment: number;\n  quiz: number;\n  attendance: number;\n}\n\nexport interface Course {\n  id: string;\n  name: string;\n  code: string;\n  unitHours: number;\n  caScores: CAScores;\n  targetGrade: TargetGrade;\n  difficulty: 1 | 2 | 3 | 4 | 5;\n  finalScore?: number;\n  grade?: Grade;\n}\n\nexport interface Semester {\n  id: string;\n  name: string;\n  type: SemesterType;\n  timestamp: number;\n  gpa: number;\n  predictedGPA?: number;\n  courses: Course[];\n}\n\nexport interface ExamTarget {\n  caTotal: number;\n  targetGrade: TargetGrade;\n  requiredExam: number;\n  achievable: boolean;\n}\n","size_bytes":766},"index.js":{"content":"import { registerRootComponent } from \"expo\";\n\nimport App from \"@/App\";\n\nregisterRootComponent(App);\n","size_bytes":101},"components/Button.tsx":{"content":"import React, { ReactNode } from \"react\";\nimport { StyleSheet, Pressable, ViewStyle, StyleProp } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { BorderRadius, Spacing } from \"@/constants/theme\";\n\ninterface ButtonProps {\n  onPress?: () => void;\n  label?: string;\n  children?: ReactNode;\n  style?: StyleProp<ViewStyle>;\n  disabled?: boolean;\n  variant?: 'primary' | 'secondary' | 'destructive';\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Button({\n  onPress,\n  label,\n  children,\n  style,\n  disabled = false,\n  variant = 'primary',\n}: ButtonProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    if (!disabled) {\n      scale.value = withSpring(0.98, springConfig);\n    }\n  };\n\n  const handlePressOut = () => {\n    if (!disabled) {\n      scale.value = withSpring(1, springConfig);\n    }\n  };\n\n  const getBackgroundColor = () => {\n    if (variant === 'secondary') return theme.backgroundSecondary;\n    if (variant === 'destructive') return theme.error;\n    return theme.primary;\n  };\n\n  const getTextColor = () => {\n    if (variant === 'secondary') return theme.text;\n    return '#FFFFFF';\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={disabled ? undefined : onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      disabled={disabled}\n      style={[\n        styles.button,\n        {\n          backgroundColor: getBackgroundColor(),\n          opacity: disabled ? 0.5 : 1,\n        },\n        style,\n        animatedStyle,\n      ]}\n    >\n      <ThemedText\n        type=\"body\"\n        style={[styles.buttonText, { color: getTextColor() }]}\n      >\n        {label || children}\n      </ThemedText>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    height: Spacing.buttonHeight,\n    borderRadius: BorderRadius.full,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  buttonText: {\n    fontWeight: \"600\",\n  },\n});\n","size_bytes":2437},"services/firebase.ts":{"content":"import { initializeApp } from 'firebase/app';\nimport { getAuth, initializeAuth, getReactNativePersistence } from 'firebase/auth';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Platform } from 'react-native';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBpshRp_PX3ven5n7z4CwrzsGytpatew38\",\n  authDomain: \"kobi-s-student-atlas.firebaseapp.com\",\n  projectId: \"kobi-s-student-atlas\",\n  storageBucket: \"kobi-s-student-atlas.firebasestorage.app\",\n  messagingSenderId: \"955486974004\",\n  appId: \"1:955486974004:android:7c401e00c4da91db3c5a61\"\n};\n\nconst app = initializeApp(firebaseConfig);\n\nlet auth;\nif (Platform.OS === 'web') {\n  auth = getAuth(app);\n} else {\n  auth = initializeAuth(app, {\n    persistence: getReactNativePersistence(AsyncStorage)\n  });\n}\n\nexport { app, auth };\n","size_bytes":804},"components/GPATrendChart.tsx":{"content":"import React from 'react';\nimport { View, StyleSheet, Dimensions } from 'react-native';\nimport { LineChart } from 'react-native-svg-charts';\nimport * as shape from 'd3-shape';\nimport { ThemedText } from './ThemedText';\nimport { useTheme } from '@/hooks/useTheme';\nimport { Spacing } from '@/constants/theme';\nimport { GPATrendData } from '@/hooks/useGPAAnalytics';\n\ninterface GPATrendChartProps {\n  data: GPATrendData[];\n}\n\nconst screenWidth = Dimensions.get('window').width;\n\nexport function GPATrendChart({ data }: GPATrendChartProps) {\n  const { theme } = useTheme();\n\n  if (data.length === 0) {\n    return (\n      <View style={styles.emptyContainer}>\n        <ThemedText style={{ color: theme.textSecondary }}>\n          No GPA trend data available yet\n        </ThemedText>\n      </View>\n    );\n  }\n\n  const gpas = data.map(d => d.gpa);\n  const labels = data.map(d => {\n    const parts = d.semesterName.split(' ');\n    return parts.length > 1 ? parts[0] : d.semesterName.substring(0, 3);\n  });\n\n  return (\n    <View style={styles.container}>\n      <LineChart\n        style={styles.chart}\n        data={gpas}\n        svg={{\n          stroke: theme.primary,\n          strokeWidth: 3,\n        }}\n        curve={shape.curveNatural}\n        contentInset={{ top: 20, bottom: 20, left: 10, right: 10 }}\n        yMin={0}\n        yMax={5}\n      />\n      \n      <View style={styles.labelsContainer}>\n        {labels.map((label, index) => (\n          <ThemedText\n            key={index}\n            style={[\n              styles.label,\n              { color: theme.textSecondary, width: screenWidth / (labels.length + 1) }\n            ]}\n          >\n            {label}\n          </ThemedText>\n        ))}\n      </View>\n\n      <View style={styles.legend}>\n        {data.map((item, index) => (\n          <View key={index} style={styles.legendItem}>\n            <View style={[styles.legendDot, { backgroundColor: theme.primary }]} />\n            <ThemedText style={[styles.legendText, { color: theme.textSecondary }]}>\n              {item.semesterName}: {item.gpa.toFixed(2)}\n            </ThemedText>\n          </View>\n        ))}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingVertical: Spacing.lg,\n  },\n  chart: {\n    height: 200,\n    marginBottom: Spacing.md,\n  },\n  emptyContainer: {\n    height: 200,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  labelsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    paddingHorizontal: Spacing.sm,\n  },\n  label: {\n    fontSize: 12,\n    textAlign: 'center',\n  },\n  legend: {\n    marginTop: Spacing.lg,\n    gap: Spacing.sm,\n  },\n  legendItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  legendDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n  },\n  legendText: {\n    fontSize: 12,\n  },\n});\n","size_bytes":2861},"screens/DataManagementScreen.tsx":{"content":"import React, { useState } from 'react';\nimport { View, StyleSheet, Alert, ActivityIndicator } from 'react-native';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { Card } from '@/components/Card';\nimport { ThemedText } from '@/components/ThemedText';\nimport { Button } from '@/components/Button';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { getSemesters } from '@/services/storageService';\nimport { dataExportService } from '@/services/dataExportService';\nimport { Spacing } from '@/constants/theme';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function DataManagementScreen() {\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const [exporting, setExporting] = useState(false);\n\n  const handleExportJSON = async () => {\n    if (!user) return;\n    \n    try {\n      setExporting(true);\n      const semesters = await getSemesters(user.uid);\n      \n      if (semesters.length === 0) {\n        Alert.alert('No Data', 'You don\\'t have any semester data to export yet.');\n        return;\n      }\n      \n      await dataExportService.exportToJSON(semesters, user.email);\n      Alert.alert('Success', 'Your data has been exported successfully!');\n    } catch (error) {\n      Alert.alert('Export Failed', error instanceof Error ? error.message : 'Failed to export data');\n    } finally {\n      setExporting(false);\n    }\n  };\n\n  const handleExportPDF = async () => {\n    if (!user) return;\n    \n    try {\n      setExporting(true);\n      const semesters = await getSemesters(user.uid);\n      \n      if (semesters.length === 0) {\n        Alert.alert('No Data', 'You don\\'t have any semester data to export yet.');\n        return;\n      }\n      \n      await dataExportService.exportToPDF(semesters, user.email);\n      Alert.alert('Success', 'Your academic report has been generated!');\n    } catch (error) {\n      Alert.alert('Export Failed', error instanceof Error ? error.message : 'Failed to generate PDF');\n    } finally {\n      setExporting(false);\n    }\n  };\n\n  return (\n    <ScreenScrollView>\n      <View style={styles.container}>\n        <ThemedText type=\"title\" style={[styles.title, { color: theme.text }]}>\n          Data Management\n        </ThemedText>\n        \n        <ThemedText style={[styles.description, { color: theme.textSecondary }]}>\n          Export your academic data or create a backup of your records.\n        </ThemedText>\n\n        <Card style={styles.section}>\n          <View style={styles.sectionHeader}>\n            <Feather name=\"download\" size={24} color={theme.primary} />\n            <ThemedText type=\"subtitle\" style={[styles.sectionTitle, { color: theme.text }]}>\n              Export Data\n            </ThemedText>\n          </View>\n          \n          <ThemedText style={[styles.sectionDescription, { color: theme.textSecondary }]}>\n            Download your complete academic records in your preferred format.\n          </ThemedText>\n\n          <View style={styles.buttonGroup}>\n            <Button\n              label=\"Export as JSON\"\n              onPress={handleExportJSON}\n              disabled={exporting}\n              variant=\"secondary\"\n              style={styles.exportButton}\n            />\n            \n            <Button\n              label=\"Export as PDF\"\n              onPress={handleExportPDF}\n              disabled={exporting}\n              variant=\"primary\"\n              style={styles.exportButton}\n            />\n          </View>\n          \n          {exporting ? (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator size=\"small\" color={theme.primary} />\n              <ThemedText style={[styles.loadingText, { color: theme.textSecondary }]}>\n                Preparing export...\n              </ThemedText>\n            </View>\n          ) : null}\n        </Card>\n\n        <Card style={styles.section}>\n          <View style={styles.sectionHeader}>\n            <Feather name=\"info\" size={24} color={theme.primary} />\n            <ThemedText type=\"subtitle\" style={[styles.sectionTitle, { color: theme.text }]}>\n              About Your Data\n            </ThemedText>\n          </View>\n          \n          <ThemedText style={[styles.infoText, { color: theme.textSecondary }]}>\n             JSON format includes all raw data and can be used for backup and restore\n          </ThemedText>\n          \n          <ThemedText style={[styles.infoText, { color: theme.textSecondary }]}>\n             PDF format generates a formatted academic report with all your grades and GPAs\n          </ThemedText>\n          \n          <ThemedText style={[styles.infoText, { color: theme.textSecondary }]}>\n             Your data is stored locally and synced with Firebase Authentication\n          </ThemedText>\n        </Card>\n      </View>\n    </ScreenScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.lg,\n  },\n  title: {\n    marginBottom: Spacing.sm,\n  },\n  description: {\n    marginBottom: Spacing.xl,\n    lineHeight: 22,\n  },\n  section: {\n    padding: Spacing.lg,\n    marginBottom: Spacing.lg,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.md,\n    marginBottom: Spacing.sm,\n  },\n  sectionTitle: {\n    flex: 1,\n  },\n  sectionDescription: {\n    marginBottom: Spacing.lg,\n    lineHeight: 20,\n  },\n  buttonGroup: {\n    gap: Spacing.md,\n  },\n  exportButton: {\n    marginBottom: Spacing.sm,\n  },\n  loadingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.md,\n    marginTop: Spacing.md,\n    padding: Spacing.md,\n    justifyContent: 'center',\n  },\n  loadingText: {\n    fontSize: 14,\n  },\n  infoText: {\n    fontSize: 14,\n    lineHeight: 22,\n    marginBottom: Spacing.sm,\n  },\n});\n","size_bytes":5791},"navigation/screenOptions.ts":{"content":"import { Platform } from \"react-native\";\nimport { NativeStackNavigationOptions } from \"@react-navigation/native-stack\";\nimport { isLiquidGlassAvailable } from \"expo-glass-effect\";\n\ninterface ScreenOptionsParams {\n  theme: {\n    backgroundRoot: string;\n    text: string;\n  };\n  isDark: boolean;\n  transparent?: boolean;\n}\n\nexport const getCommonScreenOptions = ({\n  theme,\n  isDark,\n  transparent = true,\n}: ScreenOptionsParams): NativeStackNavigationOptions => ({\n  headerTitleAlign: \"center\",\n  headerTransparent: transparent,\n  headerBlurEffect: isDark ? \"dark\" : \"light\",\n  headerTintColor: theme.text,\n  headerStyle: {\n    backgroundColor: Platform.select({\n      ios: undefined,\n      android: theme.backgroundRoot,\n    }),\n  },\n  gestureEnabled: true,\n  gestureDirection: \"horizontal\",\n  fullScreenGestureEnabled: isLiquidGlassAvailable() ? false : true,\n  contentStyle: {\n    backgroundColor: theme.backgroundRoot,\n  },\n});\n","size_bytes":931},"screens/GPAScreen.tsx":{"content":"import React, { useState, useCallback } from 'react';\nimport { View, StyleSheet, Pressable } from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { Button } from '@/components/Button';\nimport { Card } from '@/components/Card';\nimport { GPATrendChart } from '@/components/GPATrendChart';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useGPAAnalytics } from '@/hooks/useGPAAnalytics';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { Feather } from '@expo/vector-icons';\nimport { getSemesters } from '@/services/storageService';\nimport { Semester } from '@/types';\nimport { calculateCGPA, calculatePredictedCGPA, getGPAColor } from '@/utils/calculations';\n\nexport default function GPAScreen({ navigation }: any) {\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const [semesters, setSemesters] = useState<Semester[]>([]);\n  const analytics = useGPAAnalytics(semesters);\n\n  useFocusEffect(\n    useCallback(() => {\n      loadSemesters();\n    }, [user])\n  );\n\n  const loadSemesters = async () => {\n    if (!user) return;\n    const data = await getSemesters(user.uid);\n    setSemesters(data);\n  };\n\n  const cgpa = calculateCGPA(semesters);\n  const predictedCGPA = calculatePredictedCGPA(semesters);\n  const pastSemesters = semesters.filter(s => s.type === 'past').sort((a, b) => b.timestamp - a.timestamp);\n  const currentSemester = semesters.find(s => s.type === 'current');\n  const hasPastSemesters = pastSemesters.length > 0;\n\n  return (\n    <ScreenScrollView style={{ backgroundColor: theme.backgroundRoot }}>\n      <View style={styles.container}>\n        {hasPastSemesters ? (\n          <View style={styles.summaryCards}>\n            <View style={[styles.summaryCard, { backgroundColor: theme.backgroundDefault }]}>\n              <ThemedText style={[styles.summaryLabel, { color: theme.textSecondary }]}>Current CGPA</ThemedText>\n              <ThemedText style={[styles.summaryValue, { color: getGPAColor(cgpa, theme) }]}>\n                {cgpa.toFixed(2)}\n              </ThemedText>\n              <View style={styles.scale}>\n                <ThemedText style={[styles.scaleText, { color: theme.textSecondary }]}>out of 5.0</ThemedText>\n              </View>\n            </View>\n\n            {currentSemester ? (\n              <View style={[styles.summaryCard, { backgroundColor: theme.backgroundDefault }]}>\n                <ThemedText style={[styles.summaryLabel, { color: theme.textSecondary }]}>Predicted CGPA</ThemedText>\n                <ThemedText style={[styles.summaryValue, { color: getGPAColor(predictedCGPA, theme) }]}>\n                  {predictedCGPA.toFixed(2)}\n                </ThemedText>\n                <View style={styles.scale}>\n                  <ThemedText style={[styles.scaleText, { color: theme.textSecondary }]}>after current sem</ThemedText>\n                </View>\n              </View>\n            ) : null}\n          </View>\n        ) : null}\n\n        {hasPastSemesters && analytics.trendData.length > 0 ? (\n          <Card style={styles.trendCard}>\n            <View style={styles.trendHeader}>\n              <ThemedText type=\"subtitle\" style={{ color: theme.text }}>GPA Trend</ThemedText>\n              <Pressable onPress={() => navigation.navigate('AnalyticsDashboard')}>\n                <View style={styles.viewAllButton}>\n                  <ThemedText style={[styles.viewAllText, { color: theme.primary }]}>View Analytics</ThemedText>\n                  <Feather name=\"chevron-right\" size={16} color={theme.primary} />\n                </View>\n              </Pressable>\n            </View>\n            <GPATrendChart data={analytics.trendData.slice(-5)} />\n          </Card>\n        ) : null}\n\n        <View style={styles.section}>\n          <ThemedText style={[styles.sectionTitle, { color: theme.text }]}>Semester GPAs</ThemedText>\n          {pastSemesters.length > 0 ? (\n            pastSemesters.map(semester => (\n              <View key={semester.id} style={[styles.semesterRow, { backgroundColor: theme.backgroundDefault, borderColor: theme.border }]}>\n                <View style={styles.semesterInfo}>\n                  <ThemedText style={[styles.semesterName, { color: theme.text }]}>{semester.name}</ThemedText>\n                  <ThemedText style={{ color: theme.textSecondary, fontSize: 14 }}>\n                    {semester.courses.reduce((sum, c) => sum + c.unitHours, 0)} units\n                  </ThemedText>\n                </View>\n                <View style={[styles.gpaChip, { backgroundColor: theme.backgroundRoot }]}>\n                  <ThemedText style={[styles.gpaChipValue, { color: getGPAColor(semester.gpa, theme) }]}>\n                    {semester.gpa.toFixed(2)}\n                  </ThemedText>\n                </View>\n              </View>\n            ))\n          ) : (\n            <View style={[styles.emptyState, { backgroundColor: theme.backgroundDefault }]}>\n              <Feather name=\"bar-chart-2\" size={48} color={theme.textSecondary} />\n              <ThemedText style={[styles.emptyText, { color: theme.textSecondary }]}>\n                No semester data yet\n              </ThemedText>\n              <ThemedText style={[styles.emptySubtext, { color: theme.textSecondary }]}>\n                Complete your first semester to see your GPA\n              </ThemedText>\n            </View>\n          )}\n\n          {currentSemester && currentSemester.courses.length > 0 ? (\n            <View style={[styles.currentSemesterCard, { backgroundColor: theme.backgroundSecondary, borderColor: theme.primary }]}>\n              <View style={styles.semesterInfo}>\n                <View style={styles.currentHeader}>\n                  <ThemedText style={[styles.semesterName, { color: theme.text }]}>{currentSemester.name}</ThemedText>\n                  <View style={[styles.currentBadge, { backgroundColor: theme.primary }]}>\n                    <ThemedText style={styles.currentBadgeText}>Current</ThemedText>\n                  </View>\n                </View>\n                <ThemedText style={{ color: theme.textSecondary, fontSize: 14 }}>\n                  {currentSemester.courses.reduce((sum, c) => sum + c.unitHours, 0)} units  Predicted\n                </ThemedText>\n              </View>\n              <View style={[styles.gpaChip, { backgroundColor: theme.backgroundRoot }]}>\n                <ThemedText style={[styles.gpaChipValue, { color: theme.primary }]}>\n                  {currentSemester.gpa.toFixed(2)}\n                </ThemedText>\n              </View>\n            </View>\n          ) : null}\n        </View>\n      </View>\n    </ScreenScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.xl,\n    gap: Spacing['2xl'],\n  },\n  summaryCards: {\n    gap: Spacing.lg,\n  },\n  summaryCard: {\n    padding: Spacing['2xl'],\n    borderRadius: BorderRadius.sm,\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  trendCard: {\n    padding: Spacing.lg,\n    marginBottom: Spacing.lg,\n  },\n  trendHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: Spacing.md,\n  },\n  viewAllButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.xs,\n  },\n  viewAllText: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  summaryLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n  },\n  summaryValue: {\n    fontSize: 48,\n    fontWeight: '700',\n  },\n  scale: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  scaleText: {\n    fontSize: 14,\n  },\n  section: {\n    gap: Spacing.md,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n  },\n  semesterRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 1,\n  },\n  currentSemesterCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 2,\n  },\n  semesterInfo: {\n    flex: 1,\n    gap: 4,\n  },\n  currentHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  semesterName: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  currentBadge: {\n    paddingHorizontal: Spacing.sm,\n    paddingVertical: 2,\n    borderRadius: 4,\n  },\n  currentBadgeText: {\n    color: '#FFFFFF',\n    fontSize: 11,\n    fontWeight: '600',\n  },\n  gpaChip: {\n    paddingHorizontal: Spacing.lg,\n    paddingVertical: Spacing.sm,\n    borderRadius: BorderRadius.xs,\n  },\n  gpaChipValue: {\n    fontSize: 20,\n    fontWeight: '700',\n  },\n  emptyState: {\n    padding: Spacing['4xl'],\n    borderRadius: BorderRadius.sm,\n    alignItems: 'center',\n    gap: Spacing.sm,\n  },\n  emptyText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  emptySubtext: {\n    fontSize: 14,\n    textAlign: 'center',\n  },\n});\n","size_bytes":9078},"App.tsx":{"content":"import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { GestureHandlerRootView } from \"react-native-gesture-handler\";\nimport { KeyboardProvider } from \"react-native-keyboard-controller\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { StatusBar } from \"expo-status-bar\";\n\nimport MainTabNavigator from \"@/navigation/MainTabNavigator\";\nimport AuthNavigator from \"@/navigation/AuthNavigator\";\nimport { ErrorBoundary } from \"@/components/ErrorBoundary\";\nimport { ThemeProvider } from \"@/contexts/ThemeContext\";\nimport { AuthProvider, useAuth } from \"@/contexts/AuthContext\";\nimport { AchievementProvider } from \"@/contexts/AchievementContext\";\nimport { AchievementPopup } from \"@/components/AchievementPopup\";\n\nfunction AppContent() {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return null;\n  }\n\n  return (\n    <>\n      <NavigationContainer>\n        {user ? <MainTabNavigator /> : <AuthNavigator />}\n      </NavigationContainer>\n      <AchievementPopup />\n      <StatusBar style=\"auto\" />\n    </>\n  );\n}\n\nexport default function App() {\n  return (\n    <ErrorBoundary>\n      <SafeAreaProvider>\n        <GestureHandlerRootView style={styles.root}>\n          <KeyboardProvider>\n            <ThemeProvider>\n              <AuthProvider>\n                <AchievementProvider>\n                  <AppContent />\n                </AchievementProvider>\n              </AuthProvider>\n            </ThemeProvider>\n          </KeyboardProvider>\n        </GestureHandlerRootView>\n      </SafeAreaProvider>\n    </ErrorBoundary>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    flex: 1,\n  },\n});\n","size_bytes":1716},"screens/AnalyticsDashboardScreen.tsx":{"content":"import React, { useEffect, useState } from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { ScreenScrollView } from '@/components/ScreenScrollView';\nimport { Card } from '@/components/Card';\nimport { ThemedText } from '@/components/ThemedText';\nimport { GPATrendChart } from '@/components/GPATrendChart';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { getSemesters } from '@/services/storageService';\nimport { useGPAAnalytics, CoursePerformance } from '@/hooks/useGPAAnalytics';\nimport { Semester } from '@/types';\nimport { Spacing } from '@/constants/theme';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function AnalyticsDashboardScreen() {\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const [semesters, setSemesters] = useState<Semester[]>([]);\n  const analytics = useGPAAnalytics(semesters);\n\n  useEffect(() => {\n    loadData();\n  }, [user]);\n\n  const loadData = async () => {\n    if (!user) return;\n    const data = await getSemesters(user.uid);\n    setSemesters(data);\n  };\n\n  const getPerformanceColor = (performance: string) => {\n    switch (performance) {\n      case 'excellent': return '#4CAF50';\n      case 'good': return '#8BC34A';\n      case 'fair': return '#FFC107';\n      case 'poor': return '#FF5722';\n      default: return theme.textSecondary;\n    }\n  };\n\n  return (\n    <ScreenScrollView>\n      <View style={styles.container}>\n        <ThemedText type=\"title\" style={[styles.title, { color: theme.text }]}>\n          Analytics Dashboard\n        </ThemedText>\n\n        <Card style={styles.statsCard}>\n          <ThemedText type=\"subtitle\" style={[styles.cardTitle, { color: theme.text }]}>\n            GPA Overview\n          </ThemedText>\n          <View style={styles.statsGrid}>\n            <StatItem\n              label=\"Average GPA\"\n              value={analytics.averageGPA.toFixed(2)}\n              icon=\"bar-chart-2\"\n              theme={theme}\n            />\n            <StatItem\n              label=\"Highest GPA\"\n              value={analytics.highestGPA.toFixed(2)}\n              icon=\"trending-up\"\n              theme={theme}\n            />\n            <StatItem\n              label=\"Lowest GPA\"\n              value={analytics.lowestGPA.toFixed(2)}\n              icon=\"trending-down\"\n              theme={theme}\n            />\n            <StatItem\n              label=\"Semesters\"\n              value={analytics.trendData.length.toString()}\n              icon=\"calendar\"\n              theme={theme}\n            />\n          </View>\n        </Card>\n\n        <Card style={styles.chartCard}>\n          <ThemedText type=\"subtitle\" style={[styles.cardTitle, { color: theme.text }]}>\n            GPA Trend\n          </ThemedText>\n          <GPATrendChart data={analytics.trendData} />\n        </Card>\n\n        <Card style={styles.coursesCard}>\n          <ThemedText type=\"subtitle\" style={[styles.cardTitle, { color: theme.text }]}>\n            Top Performing Courses\n          </ThemedText>\n          {analytics.bestPerformingCourses.length > 0 ? (\n            analytics.bestPerformingCourses.map((coursePerf, index) => (\n              <CoursePerformanceItem\n                key={index}\n                coursePerformance={coursePerf}\n                theme={theme}\n                getPerformanceColor={getPerformanceColor}\n              />\n            ))\n          ) : (\n            <ThemedText style={{ color: theme.textSecondary }}>\n              No course data available yet\n            </ThemedText>\n          )}\n        </Card>\n\n        <Card style={styles.coursesCard}>\n          <ThemedText type=\"subtitle\" style={[styles.cardTitle, { color: theme.text }]}>\n            Courses Needing Attention\n          </ThemedText>\n          {analytics.worstPerformingCourses.length > 0 ? (\n            analytics.worstPerformingCourses.map((coursePerf, index) => (\n              <CoursePerformanceItem\n                key={index}\n                coursePerformance={coursePerf}\n                theme={theme}\n                getPerformanceColor={getPerformanceColor}\n              />\n            ))\n          ) : (\n            <ThemedText style={{ color: theme.textSecondary }}>\n              No course data available yet\n            </ThemedText>\n          )}\n        </Card>\n\n        <Card style={styles.recommendationsCard}>\n          <ThemedText type=\"subtitle\" style={[styles.cardTitle, { color: theme.text }]}>\n            Recommendations\n          </ThemedText>\n          {analytics.recommendations.map((recommendation, index) => (\n            <View key={index} style={styles.recommendationItem}>\n              <Feather name=\"check-circle\" size={16} color={theme.primary} />\n              <ThemedText style={[styles.recommendationText, { color: theme.textSecondary }]}>\n                {recommendation}\n              </ThemedText>\n            </View>\n          ))}\n        </Card>\n      </View>\n    </ScreenScrollView>\n  );\n}\n\nfunction StatItem({ label, value, icon, theme }: any) {\n  return (\n    <View style={styles.statItem}>\n      <Feather name={icon} size={20} color={theme.primary} />\n      <ThemedText style={[styles.statValue, { color: theme.text }]}>{value}</ThemedText>\n      <ThemedText style={[styles.statLabel, { color: theme.textSecondary }]}>{label}</ThemedText>\n    </View>\n  );\n}\n\nfunction CoursePerformanceItem({ coursePerformance, theme, getPerformanceColor }: any) {\n  const { course, semesterName, performance } = coursePerformance;\n  \n  return (\n    <View style={[styles.courseItem, { backgroundColor: theme.backgroundSecondary }]}>\n      <View style={styles.courseInfo}>\n        <ThemedText style={[styles.courseCode, { color: theme.text }]}>\n          {course.code}\n        </ThemedText>\n        <ThemedText style={[styles.courseTitle, { color: theme.textSecondary }]}>\n          {course.title}\n        </ThemedText>\n        <ThemedText style={[styles.courseSemester, { color: theme.textSecondary }]}>\n          {semesterName}\n        </ThemedText>\n      </View>\n      <View style={styles.courseStats}>\n        <View style={[styles.performanceBadge, { backgroundColor: getPerformanceColor(performance) }]}>\n          <ThemedText style={styles.performanceText}>\n            {performance.toUpperCase()}\n          </ThemedText>\n        </View>\n        <ThemedText style={[styles.courseScore, { color: theme.text }]}>\n          {course.finalScore}%\n        </ThemedText>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: Spacing.lg,\n  },\n  title: {\n    marginBottom: Spacing.lg,\n  },\n  statsCard: {\n    padding: Spacing.lg,\n    marginBottom: Spacing.lg,\n  },\n  chartCard: {\n    padding: Spacing.lg,\n    marginBottom: Spacing.lg,\n  },\n  coursesCard: {\n    padding: Spacing.lg,\n    marginBottom: Spacing.lg,\n  },\n  recommendationsCard: {\n    padding: Spacing.lg,\n    marginBottom: Spacing.lg,\n  },\n  cardTitle: {\n    marginBottom: Spacing.lg,\n  },\n  statsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: Spacing.md,\n  },\n  statItem: {\n    alignItems: 'center',\n    gap: Spacing.xs,\n    width: '45%',\n  },\n  statValue: {\n    fontSize: 28,\n    fontWeight: 'bold',\n  },\n  statLabel: {\n    fontSize: 12,\n    textAlign: 'center',\n  },\n  courseItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: Spacing.md,\n    borderRadius: 8,\n    marginBottom: Spacing.sm,\n  },\n  courseInfo: {\n    flex: 1,\n  },\n  courseCode: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  courseTitle: {\n    fontSize: 12,\n    marginTop: Spacing.xs,\n  },\n  courseSemester: {\n    fontSize: 11,\n    marginTop: Spacing.xs,\n  },\n  courseStats: {\n    alignItems: 'flex-end',\n    gap: Spacing.xs,\n  },\n  performanceBadge: {\n    paddingHorizontal: Spacing.sm,\n    paddingVertical: 4,\n    borderRadius: 4,\n  },\n  performanceText: {\n    fontSize: 10,\n    fontWeight: '600',\n    color: '#FFFFFF',\n  },\n  courseScore: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  recommendationItem: {\n    flexDirection: 'row',\n    gap: Spacing.sm,\n    marginBottom: Spacing.md,\n    alignItems: 'flex-start',\n  },\n  recommendationText: {\n    flex: 1,\n    fontSize: 14,\n    lineHeight: 20,\n  },\n});\n","size_bytes":8215},"components/ErrorFallback.tsx":{"content":"import React, { useState } from \"react\";\nimport { reloadAppAsync } from \"expo\";\nimport {\n  StyleSheet,\n  View,\n  Pressable,\n  ScrollView,\n  Text,\n  Modal,\n} from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Fonts } from \"@/constants/theme\";\n\nexport type ErrorFallbackProps = {\n  error: Error;\n  resetError: () => void;\n};\n\nexport function ErrorFallback({ error, resetError }: ErrorFallbackProps) {\n  const { theme } = useTheme();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleRestart = async () => {\n    try {\n      await reloadAppAsync();\n    } catch (restartError) {\n      console.error(\"Failed to restart app:\", restartError);\n      resetError();\n    }\n  };\n\n  const formatErrorDetails = (): string => {\n    let details = `Error: ${error.message}\\n\\n`;\n    if (error.stack) {\n      details += `Stack Trace:\\n${error.stack}`;\n    }\n    return details;\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      {__DEV__ ? (\n        <Pressable\n          onPress={() => setIsModalVisible(true)}\n          style={({ pressed }) => [\n            styles.topButton,\n            {\n              backgroundColor: theme.backgroundDefault,\n              opacity: pressed ? 0.8 : 1,\n            },\n          ]}\n        >\n          <Feather name=\"alert-circle\" size={20} color={theme.text} />\n        </Pressable>\n      ) : null}\n\n      <View style={styles.content}>\n        <ThemedText type=\"h1\" style={styles.title}>\n          Something went wrong\n        </ThemedText>\n\n        <ThemedText type=\"body\" style={styles.message}>\n          Please reload the app to continue.\n        </ThemedText>\n\n        <Pressable\n          onPress={handleRestart}\n          style={({ pressed }) => [\n            styles.button,\n            {\n              backgroundColor: theme.link,\n              opacity: pressed ? 0.9 : 1,\n              transform: [{ scale: pressed ? 0.98 : 1 }],\n            },\n          ]}\n        >\n          <ThemedText\n            type=\"body\"\n            style={[styles.buttonText, { color: theme.buttonText }]}\n          >\n            Try Again\n          </ThemedText>\n        </Pressable>\n      </View>\n\n      {__DEV__ ? (\n        <Modal\n          visible={isModalVisible}\n          animationType=\"slide\"\n          transparent={true}\n          onRequestClose={() => setIsModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <ThemedView style={styles.modalContainer}>\n              <View style={styles.modalHeader}>\n                <ThemedText type=\"h2\" style={styles.modalTitle}>\n                  Error Details\n                </ThemedText>\n                <Pressable\n                  onPress={() => setIsModalVisible(false)}\n                  style={({ pressed }) => [\n                    styles.closeButton,\n                    { opacity: pressed ? 0.6 : 1 },\n                  ]}\n                >\n                  <Feather name=\"x\" size={24} color={theme.text} />\n                </Pressable>\n              </View>\n\n              <ScrollView\n                style={styles.modalScrollView}\n                contentContainerStyle={styles.modalScrollContent}\n                showsVerticalScrollIndicator\n              >\n                <View\n                  style={[\n                    styles.errorContainer,\n                    { backgroundColor: theme.backgroundDefault },\n                  ]}\n                >\n                  <Text\n                    style={[\n                      styles.errorText,\n                      {\n                        color: theme.text,\n                        fontFamily: Fonts?.mono || \"monospace\",\n                      },\n                    ]}\n                    selectable\n                  >\n                    {formatErrorDetails()}\n                  </Text>\n                </View>\n              </ScrollView>\n            </ThemedView>\n          </View>\n        </Modal>\n      ) : null}\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: Spacing[\"2xl\"],\n  },\n  content: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    gap: Spacing.lg,\n    width: \"100%\",\n    maxWidth: 600,\n  },\n  title: {\n    textAlign: \"center\",\n    lineHeight: 40,\n  },\n  message: {\n    textAlign: \"center\",\n    opacity: 0.7,\n    lineHeight: 24,\n  },\n  topButton: {\n    position: \"absolute\",\n    top: Spacing[\"2xl\"] + Spacing.lg,\n    right: Spacing.lg,\n    width: 44,\n    height: 44,\n    borderRadius: BorderRadius.md,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 10,\n  },\n  button: {\n    paddingVertical: Spacing.lg,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing[\"2xl\"],\n    minWidth: 200,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  buttonText: {\n    fontWeight: \"600\",\n    textAlign: \"center\",\n    fontSize: 16,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    justifyContent: \"flex-end\",\n  },\n  modalContainer: {\n    width: \"100%\",\n    height: \"90%\",\n    borderTopLeftRadius: BorderRadius.lg,\n    borderTopRightRadius: BorderRadius.lg,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.lg,\n    paddingTop: Spacing.lg,\n    paddingBottom: Spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: \"rgba(128, 128, 128, 0.2)\",\n  },\n  modalTitle: {\n    fontWeight: \"600\",\n  },\n  closeButton: {\n    padding: Spacing.xs,\n  },\n  modalScrollView: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    padding: Spacing.lg,\n  },\n  errorContainer: {\n    width: \"100%\",\n    borderRadius: BorderRadius.md,\n    overflow: \"hidden\",\n    padding: Spacing.lg,\n  },\n  errorText: {\n    fontSize: 12,\n    lineHeight: 18,\n    width: \"100%\",\n  },\n});\n","size_bytes":6194},"hooks/useColorScheme.ts":{"content":"export { useColorScheme } from \"react-native\";\n","size_bytes":47},"services/dataExportService.ts":{"content":"import { Semester } from '@/types';\nimport { Share, Platform } from 'react-native';\nimport * as Print from 'expo-print';\nimport * as Sharing from 'expo-sharing';\nimport * as FileSystem from 'expo-file-system';\nimport { calculateGPA, calculateCGPA, getGradeFromScore } from '@/utils/calculations';\n\nexport class DataExportService {\n  async exportToJSON(semesters: Semester[], userEmail: string): Promise<void> {\n    try {\n      const exportData = {\n        exportDate: new Date().toISOString(),\n        userEmail,\n        semesters,\n        summary: this.generateSummary(semesters),\n      };\n\n      const jsonString = JSON.stringify(exportData, null, 2);\n      const fileName = `student_atlas_backup_${new Date().getTime()}.json`;\n\n      if (Platform.OS === 'web') {\n        const blob = new Blob([jsonString], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = fileName;\n        link.click();\n        URL.revokeObjectURL(url);\n      } else {\n        const fileUri = `${FileSystem.documentDirectory}${fileName}`;\n        await FileSystem.writeAsStringAsync(fileUri, jsonString);\n        \n        if (await Sharing.isAvailableAsync()) {\n          await Sharing.shareAsync(fileUri);\n        }\n      }\n    } catch (error) {\n      console.error('Failed to export JSON:', error);\n      throw new Error('Failed to export data. Please try again.');\n    }\n  }\n\n  async exportToPDF(semesters: Semester[], userEmail: string): Promise<void> {\n    try {\n      const html = this.generatePDFHTML(semesters, userEmail);\n      \n      const { uri } = await Print.printToFileAsync({ html });\n      \n      if (await Sharing.isAvailableAsync()) {\n        await Sharing.shareAsync(uri, {\n          mimeType: 'application/pdf',\n          dialogTitle: 'Export Academic Report',\n          UTI: 'com.adobe.pdf',\n        });\n      }\n    } catch (error) {\n      console.error('Failed to export PDF:', error);\n      throw new Error('Failed to generate PDF. Please try again.');\n    }\n  }\n\n  private generateSummary(semesters: Semester[]) {\n    const pastSemesters = semesters.filter(s => !s.isCurrent);\n    const cgpa = calculateCGPA(pastSemesters);\n    const totalCourses = pastSemesters.reduce((sum, s) => sum + s.courses.length, 0);\n    const completedCourses = pastSemesters.reduce(\n      (sum, s) => sum + s.courses.filter(c => c.finalScore !== undefined).length,\n      0\n    );\n\n    return {\n      cgpa,\n      totalSemesters: semesters.length,\n      totalCourses,\n      completedCourses,\n    };\n  }\n\n  private generatePDFHTML(semesters: Semester[], userEmail: string): string {\n    const summary = this.generateSummary(semesters);\n    \n    return `\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset=\"utf-8\">\n          <title>Student Atlas - Academic Report</title>\n          <style>\n            body {\n              font-family: 'Helvetica Neue', Arial, sans-serif;\n              padding: 40px;\n              color: #333;\n            }\n            .header {\n              text-align: center;\n              margin-bottom: 40px;\n              padding-bottom: 20px;\n              border-bottom: 3px solid #4A90E2;\n            }\n            h1 {\n              color: #4A90E2;\n              margin: 0;\n              font-size: 32px;\n            }\n            .subtitle {\n              color: #666;\n              margin-top: 10px;\n              font-size: 14px;\n            }\n            .summary {\n              background: #f5f5f5;\n              padding: 20px;\n              border-radius: 8px;\n              margin-bottom: 30px;\n            }\n            .summary-grid {\n              display: grid;\n              grid-template-columns: repeat(2, 1fr);\n              gap: 15px;\n            }\n            .summary-item {\n              padding: 10px;\n            }\n            .summary-label {\n              font-size: 12px;\n              color: #666;\n              text-transform: uppercase;\n              letter-spacing: 1px;\n            }\n            .summary-value {\n              font-size: 24px;\n              font-weight: bold;\n              color: #4A90E2;\n              margin-top: 5px;\n            }\n            .semester {\n              margin-bottom: 40px;\n              page-break-inside: avoid;\n            }\n            .semester-header {\n              background: #4A90E2;\n              color: white;\n              padding: 15px 20px;\n              border-radius: 8px 8px 0 0;\n              display: flex;\n              justify-content: space-between;\n              align-items: center;\n            }\n            .semester-title {\n              font-size: 20px;\n              font-weight: bold;\n            }\n            .semester-gpa {\n              font-size: 18px;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              margin-bottom: 20px;\n            }\n            th {\n              background: #f8f8f8;\n              padding: 12px;\n              text-align: left;\n              font-weight: 600;\n              font-size: 12px;\n              text-transform: uppercase;\n              letter-spacing: 1px;\n              border-bottom: 2px solid #ddd;\n            }\n            td {\n              padding: 12px;\n              border-bottom: 1px solid #eee;\n            }\n            .course-code {\n              font-weight: 600;\n              color: #333;\n            }\n            .grade {\n              font-weight: bold;\n              padding: 4px 8px;\n              border-radius: 4px;\n            }\n            .grade-a { background: #4CAF50; color: white; }\n            .grade-b { background: #8BC34A; color: white; }\n            .grade-c { background: #FFC107; color: white; }\n            .grade-d { background: #FF9800; color: white; }\n            .grade-e { background: #FF5722; color: white; }\n            .grade-f { background: #F44336; color: white; }\n            .footer {\n              margin-top: 40px;\n              padding-top: 20px;\n              border-top: 2px solid #ddd;\n              text-align: center;\n              color: #666;\n              font-size: 12px;\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"header\">\n            <h1>Student Atlas</h1>\n            <div class=\"subtitle\">Academic Performance Report</div>\n            <div class=\"subtitle\">${userEmail}</div>\n            <div class=\"subtitle\">Generated on ${new Date().toLocaleDateString('en-US', { \n              year: 'numeric', \n              month: 'long', \n              day: 'numeric' \n            })}</div>\n          </div>\n\n          <div class=\"summary\">\n            <div class=\"summary-grid\">\n              <div class=\"summary-item\">\n                <div class=\"summary-label\">Cumulative GPA</div>\n                <div class=\"summary-value\">${summary.cgpa.toFixed(2)}</div>\n              </div>\n              <div class=\"summary-item\">\n                <div class=\"summary-label\">Total Semesters</div>\n                <div class=\"summary-value\">${summary.totalSemesters}</div>\n              </div>\n              <div class=\"summary-item\">\n                <div class=\"summary-label\">Total Courses</div>\n                <div class=\"summary-value\">${summary.totalCourses}</div>\n              </div>\n              <div class=\"summary-item\">\n                <div class=\"summary-label\">Completed Courses</div>\n                <div class=\"summary-value\">${summary.completedCourses}</div>\n              </div>\n            </div>\n          </div>\n\n          ${semesters.map(semester => {\n            const semesterGPA = calculateGPA(semester.courses);\n            return `\n              <div class=\"semester\">\n                <div class=\"semester-header\">\n                  <div class=\"semester-title\">${semester.name}</div>\n                  <div class=\"semester-gpa\">GPA: ${semesterGPA.toFixed(2)}</div>\n                </div>\n                <table>\n                  <thead>\n                    <tr>\n                      <th>Course Code</th>\n                      <th>Course Title</th>\n                      <th>Units</th>\n                      <th>CA Score</th>\n                      <th>Exam Score</th>\n                      <th>Total</th>\n                      <th>Grade</th>\n                      <th>Grade Point</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    ${semester.courses.map(course => {\n                      const total = course.finalScore !== undefined ? course.finalScore : 0;\n                      const grade = getGradeFromScore(total);\n                      const gradeClass = `grade-${grade.letter.toLowerCase()}`;\n                      return `\n                        <tr>\n                          <td class=\"course-code\">${course.code}</td>\n                          <td>${course.title}</td>\n                          <td>${course.units}</td>\n                          <td>${course.caScore || '-'}</td>\n                          <td>${course.examScore !== undefined ? course.examScore : '-'}</td>\n                          <td>${total}</td>\n                          <td><span class=\"grade ${gradeClass}\">${grade.letter}</span></td>\n                          <td>${grade.point.toFixed(1)}</td>\n                        </tr>\n                      `;\n                    }).join('')}\n                  </tbody>\n                </table>\n              </div>\n            `;\n          }).join('')}\n\n          <div class=\"footer\">\n            <p>This report was generated by Student Atlas</p>\n            <p>Babcock University Academic Performance Tracking System</p>\n          </div>\n        </body>\n      </html>\n    `;\n  }\n}\n\nexport const dataExportService = new DataExportService();\n","size_bytes":9796},"screens/SignupScreen.tsx":{"content":"import React, { useState } from 'react';\nimport { View, StyleSheet, TextInput, Alert, Pressable } from 'react-native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ThemedView } from '@/components/ThemedView';\nimport { Button } from '@/components/Button';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function SignupScreen({ navigation }: any) {\n  const { theme } = useTheme();\n  const { signUp } = useAuth();\n  const insets = useSafeAreaInsets();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSignup = async () => {\n    if (!email.trim() || !password || !confirmPassword) {\n      Alert.alert('Error', 'Please fill in all fields');\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      Alert.alert('Error', 'Passwords do not match');\n      return;\n    }\n\n    if (password.length < 6) {\n      Alert.alert('Error', 'Password must be at least 6 characters');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await signUp(email, password);\n    } catch (error: any) {\n      Alert.alert('Signup Failed', error.message || 'Could not create account');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <ThemedView style={[styles.container, { paddingTop: insets.top + Spacing.xl, paddingBottom: insets.bottom + Spacing.xl }]}>\n      <View style={styles.content}>\n        <View style={styles.iconContainer}>\n          <Feather name=\"book-open\" size={64} color={theme.primary} />\n        </View>\n        \n        <ThemedText style={[styles.title, { color: theme.text }]}>Create Account</ThemedText>\n        <ThemedText style={[styles.subtitle, { color: theme.textSecondary }]}>\n          Start tracking your academic success\n        </ThemedText>\n\n        <View style={styles.form}>\n          <TextInput\n            style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n            placeholder=\"Email\"\n            placeholderTextColor={theme.textSecondary}\n            value={email}\n            onChangeText={setEmail}\n            autoCapitalize=\"none\"\n            keyboardType=\"email-address\"\n            autoCorrect={false}\n          />\n\n          <TextInput\n            style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n            placeholder=\"Password\"\n            placeholderTextColor={theme.textSecondary}\n            value={password}\n            onChangeText={setPassword}\n            secureTextEntry\n            autoCapitalize=\"none\"\n          />\n\n          <TextInput\n            style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text, borderColor: theme.border }]}\n            placeholder=\"Confirm Password\"\n            placeholderTextColor={theme.textSecondary}\n            value={confirmPassword}\n            onChangeText={setConfirmPassword}\n            secureTextEntry\n            autoCapitalize=\"none\"\n          />\n\n          <Button\n            label={loading ? 'Creating Account...' : 'Sign Up'}\n            onPress={handleSignup}\n            disabled={loading}\n            style={styles.button}\n          />\n\n          <Pressable onPress={() => navigation.goBack()} style={styles.loginPrompt}>\n            <ThemedText style={{ color: theme.textSecondary }}>\n              Already have an account?{' '}\n              <ThemedText style={{ color: theme.primary, fontWeight: '600' }}>Sign In</ThemedText>\n            </ThemedText>\n          </Pressable>\n        </View>\n      </View>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n    paddingHorizontal: Spacing.xl,\n    justifyContent: 'center',\n  },\n  iconContainer: {\n    alignItems: 'center',\n    marginBottom: Spacing['2xl'],\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: '700',\n    textAlign: 'center',\n    marginBottom: Spacing.sm,\n  },\n  subtitle: {\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: Spacing['4xl'],\n  },\n  form: {\n    gap: Spacing.lg,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.xs,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  button: {\n    marginTop: Spacing.md,\n  },\n  loginPrompt: {\n    alignItems: 'center',\n    marginTop: Spacing.md,\n  },\n});\n","size_bytes":4708},"screens/AccountScreen.tsx":{"content":"import React, { useState } from 'react';\nimport { View, StyleSheet, Alert } from 'react-native';\nimport { ThemedText } from '@/components/ThemedText';\nimport { ThemedView } from '@/components/ThemedView';\nimport { Button } from '@/components/Button';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Spacing, BorderRadius } from '@/constants/theme';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nexport default function AccountScreen({ navigation }: any) {\n  const { theme } = useTheme();\n  const { user, signOut, deleteAccount } = useAuth();\n  const insets = useSafeAreaInsets();\n  const [loading, setLoading] = useState(false);\n\n  const handleSignOut = async () => {\n    Alert.alert(\n      'Sign Out',\n      'Are you sure you want to sign out?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Sign Out',\n          style: 'destructive',\n          onPress: async () => {\n            setLoading(true);\n            try {\n              await signOut();\n            } catch (error) {\n              Alert.alert('Error', 'Failed to sign out');\n            } finally {\n              setLoading(false);\n            }\n          },\n        },\n      ]\n    );\n  };\n\n  const handleDeleteAccount = () => {\n    Alert.alert(\n      'Delete Account',\n      'Are you absolutely sure? This will permanently delete your account and all your data. This action cannot be undone.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Delete',\n          style: 'destructive',\n          onPress: () => {\n            Alert.alert(\n              'Final Confirmation',\n              'This is your last chance. Delete account and all data?',\n              [\n                { text: 'Cancel', style: 'cancel' },\n                {\n                  text: 'Yes, Delete Everything',\n                  style: 'destructive',\n                  onPress: async () => {\n                    setLoading(true);\n                    try {\n                      await deleteAccount();\n                    } catch (error) {\n                      Alert.alert('Error', 'Failed to delete account');\n                    } finally {\n                      setLoading(false);\n                    }\n                  },\n                },\n              ]\n            );\n          },\n        },\n      ]\n    );\n  };\n\n  return (\n    <ThemedView style={[styles.container, { paddingTop: Spacing.xl, paddingBottom: insets.bottom + Spacing.xl }]}>\n      <View style={styles.content}>\n        <View style={[styles.infoCard, { backgroundColor: theme.backgroundDefault }]}>\n          <ThemedText style={[styles.label, { color: theme.textSecondary }]}>Email</ThemedText>\n          <ThemedText style={[styles.value, { color: theme.text }]}>{user?.email}</ThemedText>\n        </View>\n\n        <View style={styles.actions}>\n          <Button\n            label={loading ? 'Signing Out...' : 'Sign Out'}\n            onPress={handleSignOut}\n            disabled={loading}\n            variant=\"secondary\"\n          />\n\n          <Button\n            label=\"Delete Account\"\n            onPress={handleDeleteAccount}\n            disabled={loading}\n            variant=\"destructive\"\n          />\n        </View>\n      </View>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n    padding: Spacing.xl,\n    gap: Spacing['3xl'],\n  },\n  infoCard: {\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.xs,\n    gap: Spacing.sm,\n  },\n  label: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  value: {\n    fontSize: 16,\n  },\n  actions: {\n    gap: Spacing.lg,\n  },\n});\n","size_bytes":3696}},"version":2}